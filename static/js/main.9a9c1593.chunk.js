(this.webpackJsonpt3d=this.webpackJsonpt3d||[]).push([[0],{111:function(e,t){var a="/profile",n="/admin";e.exports={Root:"/",SignUp:"/register",SignIn:"/login",GameDeck:"/gamedeck",SingleGameplay:"/single",Rankings:"/rankings",GameGuide:"/guide",ContactUs:"/contactme",League:"/league",Profile:a,Admin:n,ChatRoom:"".concat(a,"/").concat("chatroom"),MyGamesAndFriends:"".concat(a,"/").concat("games"),Notices:"".concat(n,"/").concat("notices"),StudentManagement:"".concat(n,"/").concat("students"),Documents:"".concat(n,"/").concat("documents"),LeaguesManager:"".concat(n,"/").concat("leagues")}},112:function(e,t){e.exports={Root:"https://t3d.iran.liara.run",WebSocketRoot:"wss://t3dweb.herokuapp.com/ws",wsGamePlayRoute:"gameplay",wsGlobalRoute:"global",SignUp:"signup",SignIn:"signin",Users:"users",Private:"private",Credentials:"credentials",MyAvatar:"avatar",PasswordChange:"password",Friends:"friends",Records:"records",Administrators:"administrators",Games:"games",Mine:"mine",Leagues:"leagues",NewLeague:"new",LeaguesList:"list",Attend:"attend",Chats:"chats",Interactions:"interact",SingleChat:"single",Notices:"notices",NoticeManagement:"manage"}},113:function(e,t){e.exports={Successful:200,CreatedSuccessfully:201,BadRequest:400,Unauthorized:401,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,Conflict:409,SessionExpired:420,UnprocessableEntity:422,LeagueNotFound:432,MatchNotFound:433,NonSenseToken:465,ForgedToken:466,InternalServerError:500,isErrorExpected:function(e){return e.response&&e.response.status>=400&&e.response.status<=500}}},114:function(e,t){e.exports={save:function(e){sessionStorage.setItem("ptk",e)},enter_league:function(e){sessionStorage.setItem("lgk",e)},reset:function(){sessionStorage.clear()},TOKEN:function(){return sessionStorage.getItem("ptk")},LEAGUE:function(){return sessionStorage.getItem("lgk")}}},115:function(e,t){e.exports={RandomSearchRepeatLimit:5}},142:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(28),c=a(35),r=a(1),s=a(159),i=a(149),o=a(96),l=a(9),u=a(15),d=Object(r.createContext)({device:0,signOut:function(){},goTo:function(){},redirectToGamePlay:function(){},cancelGame:function(){},openLeaguePage:function(){}}),j=a(2),b=a.n(j),m=a(0),x=function(){var e=Object(l.d)((function(e){return e.me})),t=Object(r.useContext)(d);return Object(m.jsx)(s.a,{style:{borderBottom:"1px solid grey"},bg:"light",className:"nav-pills text-right",children:Object(m.jsx)(i.a,{className:"text-right",children:Object(m.jsxs)(o.a,{className:"me-auto",children:[Object(m.jsxs)(u.b,{className:"nav-link text-primary",activeClassName:"btn-success text-dark",to:e?j.Routes.Client.Profile:j.Routes.Client.SignUp,children:[Object(m.jsx)("i",{className:"fa fa-address-card px-2","aria-hidden":"true"}),e?t.device!==j.Devices.SmartPhone&&e.fullname:"\u062b\u0628\u062a \u0646\u0627\u0645"]}),Object(m.jsxs)(u.b,{className:"nav-link text-primary",to:j.Routes.Client.Root,exact:!0,activeClassName:"btn-outline-secondary text-dark",children:[Object(m.jsx)("i",{className:"fa fa-home px-2","aria-hidden":"true"}),t.device===j.Devices.Desktop&&"\u0635\u0641\u062d\u0647 \u0627\u0635\u0644\u06cc"]}),Object(m.jsxs)(u.b,{className:"nav-link text-primary",to:j.Routes.Client.GameDeck,activeClassName:"btn-outline-secondary text-dark",children:[Object(m.jsx)("i",{className:"fa fa-gamepad px-2","aria-hidden":"true"}),t.device===j.Devices.Desktop&&"\u0628\u0627\u0632\u06cc \u0647\u0627"]}),e&&Object(m.jsxs)(u.b,{className:"nav-link text-primary",to:j.Routes.Client.ChatRoom,activeClassName:"btn-outline-secondary text-dark",children:[Object(m.jsx)("i",{className:"fa fa-comment px-2","aria-hidden":"true"}),t.device===j.Devices.Desktop&&"\u0686\u062a \u0631\u0648\u0645"]}),Object(m.jsxs)(u.b,{className:"nav-link text-primary",to:j.Routes.Client.Rankings,activeClassName:"btn-outline-secondary text-dark",children:[Object(m.jsx)("i",{className:"fa fa-list-ol px-2","aria-hidden":"true"}),t.device===j.Devices.Desktop&&"\u0631\u0646\u06a9\u06cc\u0646\u06af"]}),Object(m.jsxs)(u.b,{className:"nav-link text-primary",to:j.Routes.Client.GameGuide,activeClassName:"btn-outline-secondary text-dark",children:[Object(m.jsx)("i",{className:"fa fa-eye px-2","aria-hidden":"true"}),t.device===j.Devices.Desktop&&"\u0631\u0627\u0647\u0646\u0645\u0627"]}),Object(m.jsxs)(u.b,{className:"nav-link text-primary",to:j.Routes.Client.ContactUs,activeClassName:"btn-outline-secondary text-dark",children:[Object(m.jsx)("i",{className:"fa fa-phone-square px-2","aria-hidden":"true"}),t.device===j.Devices.Desktop&&"\u062a\u0645\u0627\u0633 \u0628\u0627 \u0645\u0627"]})]})})})},h=a(5),O=a(80),p=a(14),f=a(4),g=a.n(f),v=a(7),y=a(36),N=a.n(y),S=function(e){c.b.error(e,{position:"top-right",closeOnClick:!0,icon:Object(m.jsx)("i",{style:{float:"right"},className:"fa fa-times","aria-hidden":"true"})})},w=function(e){c.b.success(e,{position:"top-left",closeOnClick:!0,icon:Object(m.jsx)("i",{style:{float:"right"},className:"fa fa-check","aria-hidden":"true"})})},k=function(e){c.b.info(e,{position:"top-center",closeOnClick:!0,icon:Object(m.jsx)("i",{style:{float:"right"},className:"fa fa-info","aria-hidden":"true"})})},C=function(e,t){c.b.warn(e,{type:"dark",position:"top-center",onClick:t,closeOnClick:!Boolean(t),icon:Object(m.jsx)("i",{style:{float:"right"},className:"fa fa-gavel","aria-hidden":"true"})})};N.a.defaults.headers.post["Content-Type"]="application/json",N.a.defaults.headers.put["Content-Type"]="application/json",N.a.interceptors.request.use((function(e){var t=j.browserStorage.TOKEN();return e.headers.Authorization=t?"Bearer ".concat(t):null,e}),(function(e){return Promise.reject(e)})),N.a.interceptors.response.use(null,(function(e){try{e.response.status===j.Status.BadRequest?S("\u0645\u0634\u06a9\u0644\u06cc \u062f\u0631 \u0627\u0631\u0633\u0627\u0644 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0634\u0645\u0627 \u0628\u0647 \u0633\u0631\u0648\u0631 \u0648\u062c\u0648\u062f \u062f\u0627\u0634\u062a\u060c \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f"):e.response.status===j.Status.Unauthorized?(S("\u0627\u062d\u0631\u0627\u0632 \u0647\u0648\u06cc\u062a \u0645\u0648\u0641\u0642\u06cc\u062a \u0622\u0645\u06cc\u0632 \u0646\u0628\u0648\u062f. \u0644\u0637\u0641\u0627 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0634\u0648\u06cc\u062f"),j.browserStorage.reset()):e.response.status===j.Status.Forbidden?S("\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc \u06cc\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0646\u0627\u062f\u0631\u0633\u062a \u0627\u0633\u062a"):e.response.status===j.Status.NotAcceptable?S("\u0627\u06cc\u0646 \u0642\u0633\u0645\u062a \u0641\u0642\u0637 \u0645\u062e\u062a\u0635 \u06a9\u0627\u0631\u0628\u0631\u0627\u0646 \u0627\u062f\u0645\u06cc\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f"):e.response.status===j.Status.Conflict?C("\u06a9\u0627\u0631\u0628\u0631\u06cc \u0628\u0627 \u0627\u06cc\u0646 \u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc \u06cc\u0627 \u0627\u06cc\u0645\u06cc\u0644 \u0642\u0628\u0644\u0627 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0631\u062f\u0647 \u0627\u0633\u062a"):e.response.status===j.Status.SessionExpired?(S("\u0646\u0634\u0633\u062a \u0634\u0645\u0627 \u0645\u0646\u0642\u0636\u06cc \u0634\u062f\u0647 \u0627\u0633\u062a\u060c \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u062e\u0648\u062f \u0634\u0648\u06cc\u062f."),j.browserStorage.reset()):e.response.status===j.Status.UnprocessableEntity?S("\u0648\u0631\u0648\u062f\u06cc \u0634\u0645\u0627 \u0628\u0627 \u0627\u0633\u062a\u0627\u0646\u062f\u0627\u0631\u062f\u0647\u0627\u06cc \u0633\u0627\u06cc\u062a \u0645\u0637\u0627\u0628\u0642\u062a \u0646\u062f\u0627\u0631\u062f"):e.response.status===j.Status.InternalServerError?S("\u0645\u0634\u06a9\u0644\u06cc \u0627\u0632 \u0633\u0645\u062a \u0633\u0631\u0648\u0631 \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647 \u0627\u0633\u062a ... \u0644\u0637\u0641\u0627 \u0644\u062d\u0638\u0627\u062a\u06cc \u0628\u0639\u062f \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f"):j.Status.isErrorExpected(e)||S("\u062e\u0637\u0627\u06cc \u063a\u06cc\u0631\u0645\u0646\u062a\u0638\u0631\u0647 \u0627\u06cc \u0631\u062e \u062f\u0627\u062f\u0647 \u0627\u0633\u062a. \u0627\u06af\u0631 \u0628\u0631\u0627\u06cc \u0686\u0646\u062f\u0645\u06cc\u0646 \u0628\u0627\u0631 \u0627\u0633\u062a \u06a9\u0647 \u0627\u06cc\u0646 \u067e\u06cc\u063a\u0644\u0645 \u0631\u0627 \u0645\u06cc \u0628\u06cc\u0646\u06cc\u062f\u060c \u0644\u0637\u0641\u0627 \u0645\u0634\u06a9\u0644 \u062e\u0648\u062f \u0631\u0627 \u0628\u0627\u0647 \u0645\u0627 \u0627\u0637\u0644\u0627\u0639 \u062f\u0647\u06cc\u062f.")}catch(t){console.log(e)}return Promise.reject(e)}));var E={get:N.a.get,post:N.a.post,put:N.a.put,delete:N.a.delete},T=j.Routes.Server,R={signUp:function(e){return E.post("".concat(T.Root,"/").concat(T.Users,"/").concat(T.SignUp),JSON.stringify(e))},signIn:function(e){return E.post("".concat(T.Root,"/").concat(T.Users,"/").concat(T.SignIn),JSON.stringify(e))},getPlayer:function(e){return E.get("".concat(T.Root,"/").concat(T.Users,"/").concat(T.Records,"/").concat(e))},getAvatar:function(e){return E.get("".concat(T.Root,"/").concat(T.Users,"/").concat(T.MyAvatar,"/").concat(e))},getAllPlayers:function(){return E.get("".concat(T.Root,"/").concat(T.Users,"/").concat(T.Records))},getMe:function(){return E.get("".concat(T.Root,"/").concat(T.Users,"/").concat(T.Private))},getMyCredentials:function(){return E.get("".concat(T.Root,"/").concat(T.Users,"/").concat(T.Private,"/").concat(T.Credentials))},editMyCredentials:function(e){return E.put("".concat(T.Root,"/").concat(T.Users,"/").concat(T.Private,"/").concat(T.Credentials),JSON.stringify(e))},changeMyPassword:function(e){return E.put("".concat(T.Root,"/").concat(T.Users,"/").concat(T.Private,"/").concat(T.Credentials,"/").concat(T.PasswordChange),JSON.stringify(e))},uploadAvatar:function(e,t){var a=new FormData;return a.append("avatar",t),E.post("".concat(T.Root,"/").concat(T.Users,"/").concat(T.Private,"/").concat(T.MyAvatar),a,{headers:{"Content-Type":"multipart/form-data"}})},getMyFriends:function(){return E.get("".concat(T.Root,"/").concat(T.Users,"/").concat(T.Private,"/").concat(T.Credentials,"/").concat(T.Friends))},isMyFriend:function(e){return E.get("".concat(T.Root,"/").concat(T.Users,"/").concat(T.Private,"/").concat(T.Credentials,"/").concat(T.Friends,"/").concat(e))}},D=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"RESET_OPPONENT"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"RESET_MINE"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n,c,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=20;break}return t.prev=1,t.next=4,R.getPlayer(e);case 4:if(n=t.sent,c=n.data,n.status!==j.Status.Successful){t.next=11;break}return r=c.player,t.next=11,a({type:"LOAD_OPPONENT",payload:r});case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(1),j.Status.isErrorExpected(t.t0)||S("\u0645\u0634\u06a9\u0644\u06cc \u062d\u06cc\u0646 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062d\u0631\u06cc\u0641 \u067e\u06cc\u0634 \u0622\u0645\u062f. \u0644\u0637\u0641\u0627 \u0648\u0636\u0639\u06cc\u062a \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f."),t.next=18,a(D());case 18:t.next=22;break;case 20:return t.next=22,a(D());case 22:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()},P=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.getMe();case 3:if(a=e.sent,n=a.data,a.status!==j.Status.Successful){e.next=10;break}return c=n.player,e.next=10,t({type:"LOAD_MINE",payload:c});case 10:e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),j.Status.isErrorExpected(e.t0)||S("\u0645\u0634\u06a9\u0644\u06cc \u062f\u0631 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u06cc \u0634\u0645\u0627 \u067e\u06cc\u0634 \u0622\u0645\u062f. \u0644\u0637\u0641\u0627 \u0627\u0631\u062a\u0628\u0627\u0637 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a\u06cc \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f."),e.next=18,t(I());case 18:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},A={TurnTimeOut:45},G=function(e){for(var t=[],a=0;a<e;a++)t.push(a);return{empties:e*e*e,table:t.map((function(){return t.map((function(){return t.map((function(){return null}))}))})),myTurn:Math.floor(2*Math.random())}},M=function(e,t){return t.floor*e*e+t.row*e+t.column},_=function(e,t){var a=e%(t*t);return{floor:Math.floor(e/(t*t)),row:Math.floor(a/t),column:a%t}},U=function(e,t){var a=e.players,n=e.myTurn,c=Number(!n);a[n].score>a[c].score?k("\u0634\u0645\u0627 \u0628\u0631\u0646\u062f\u0647 \u0634\u062f\u06cc\u062f \u0648 \u0633\u0647 \u0627\u0645\u062a\u06cc\u0627\u0632 \u06a9\u0633\u0628 \u06a9\u0631\u062f\u06cc\u062f"):a[n].score===a[c].score?k("\u0634\u0645\u0627 \u0645\u0633\u0627\u0648\u06cc \u0634\u062f\u06cc\u062f \u0648 \u06cc\u06a9 \u0627\u0645\u062a\u06cc\u0627\u0632 \u06a9\u0633\u0628 \u06a9\u0631\u062f\u06cc\u062f"):k("\u0634\u0645\u0627 \u0628\u0627\u062e\u062a\u06cc\u062f"),t()},B=function(e,t,a){for(var n=e.floor,c=e.row,r=e.column,s=(t.players,t.table),i=t.dimension,o=s[n][c][r],l=0,u=0,d=0,j=0,b=0,m=0,x=0,h=0,O=0,p=0,f=0,g=0;g<i;g++)s[n][c][g]===o&&l++,s[n][g][r]===o&&u++,s[g][c][r]===o&&x++,c===r&&(s[n][g][g]===o&&d++,c===n&&s[g][g][g]===o&&b++),c+r+1===i&&(s[n][g][i-g-1]===o&&j++,c===n&&s[g][g][i-g-1]===o&&m++),n===r&&s[g][c][g]===o&&h++,n+r+1===i&&s[g][c][i-g-1]===o&&O++,n===c&&s[g][g][r]===o&&p++,n+c+1===i&&s[g][i-g-1][r]===o&&f++;l===i&&a(n*i*i+c*i,1,o-1),u===i&&a(n*i*i+r,i,o-1),d===i&&a(n*i*i,i+1,o-1),j===i&&a(n*i*i+(i-1),i-1,o-1),b===i&&a(0,i*(i+1)+1,o-1),m===i&&a(i-1,i*(i+1)-1,o-1),x===i&&a(c*i+r,i*i,o-1),h===i&&a(c*i,i*i+1,o-1),O===i&&a((c+1)*i-1,i*i-1,o-1),p===i&&a(r,i*(i+1),o-1),f===i&&a(i*(i-1)+r,i*(i-1),o-1)},F=function(e){var t=e.name,a=e.type,n=e.scoreless;return function(){var e=Object(v.a)(g.a.mark((function e(c,r){var s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r().me,e.prev=1,e.next=4,c({type:"ENTER_ROOM",payload:{name:t,type:a,scoreless:n}});case 4:if(!t){e.next=8;break}return i=t.split("_").filter((function(e){return e.toString()!==s.userID.toString()})),e.next=8,c(L(i));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),S("\u0645\u0634\u06a9\u0644\u06cc \u062d\u06cc\u0646 \u0628\u0627\u0631\u06a9\u0630\u0627\u0631\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0628\u0627\u0632\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f. \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a\u06cc \u06a9\u0647 \u0628\u0631\u0627\u06cc \u0634\u0645\u0627 \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a\u060c \u0627\u0634\u062a\u0628\u0627\u0647 \u0628\u0627\u0634\u062f"),console.log("sth went wrong while entering the room 'cause: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},V=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({type:"RESET_GAME"});case 3:return e.next=5,t({type:"CLEAN_SCOREBOARD"});case 5:return e.next=7,t({type:"EXIT_ROOM"});case 7:return e.next=9,t({type:"RESET_OPPONENT"});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("closing the ongoing game failed completing cause: ",e.t0),k("\u0645\u0634\u06a9\u0644\u06cc \u062d\u06cc\u0646 \u0628\u0633\u062a\u0646 \u0628\u0627\u0632\u06cc \u06a9\u0646\u0648\u0646\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f.");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},q=function(e,t,a){return function(){var n=Object(v.a)(g.a.mark((function n(c){var r,s,i,o;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=G(e),s=r.myTurn,i=r.table,o=r.empties,n.next=4,c({type:"REGISTER_GAME",payload:{multy:!1,dimension:e,scoreless:t,difficulty:a,myTurn:s,table:i,empties:o}});case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0),S("\u0645\u0634\u06a9\u0644\u06cc \u062f\u0631 \u0627\u062c\u0631\u0627\u06cc \u0628\u0627\u0632\u06cc \u062a\u06a9 \u0646\u0641\u0631\u0647 \u067e\u06cc\u0634 \u0622\u0645\u062f. \u0644\u0637\u0641\u0627 \u0645\u062c\u062f\u062f\u0627 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f.");case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()},K=j.Routes.Server,H={loadLeague:function(e){return E.get("".concat(K.Root,"/").concat(K.Leagues,"/").concat(K.LeaguesList,"/").concat(e))},listLeagues:function(){return E.get("".concat(K.Root,"/").concat(K.Leagues))},joinLeague:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return E.post("".concat(K.Root,"/").concat(K.Leagues,"/").concat(K.LeaguesList,"/").concat(e),JSON.stringify({teamID:t}))},attendLeagueGame:function(e){return E.get("".concat(K.Root,"/").concat(K.Leagues,"/").concat(K.Attend,"/").concat(e))},createLeague:function(e,t,a,n,c,r,s){return E.post("".concat(K.Root,"/").concat(K.Leagues,"/").concat(K.NewLeague),JSON.stringify({password:e,title:c,Mode:t,dimension:n,scoreless:a,capacity:r,prize:s}))}},z=H,J=function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n,c,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=21;break}return t.prev=1,t.next=4,z.loadLeague(e);case 4:if(n=t.sent,c=n.data,n.status!==j.Status.Successful){t.next=12;break}return(r=c.league)&&r.matches&&(r.ongoing=r.matches[r.matches.length-1].map((function(e){var t=r.contesters.findIndex((function(t){return t.userID===e.players[0]})),a=r.contesters.findIndex((function(t){return t.userID===e.players[1]})),n=[];return[t,a].forEach((function(e){if(e>=0&&e<=r.contesters.length){var t=r.contesters[e],a=t.fullname,c=t.userID,s=t.progress;n.push({fullname:a,userID:c,progress:s})}else n.push({fullname:"\u0646\u0627\u0634\u0646\u0627\u0633",userID:null,progress:null})})),{players:n,schedule:e.schedule}}))),t.next=12,a({type:"ENTER_LEAGUE",payload:c.league});case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(1),S("\u0645\u0634\u06a9\u0644\u06cc \u062d\u06cc\u0646 \u0648\u0631\u0648\u062f \u0628\u0647 \u0644\u06cc\u06af \u067e\u06cc\u0634 \u0622\u0645\u062f. \u0644\u0637\u0641\u0627 \u0648\u0636\u0639\u06cc\u062a \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f."),t.next=19,a(Y());case 19:t.next=23;break;case 21:return t.next=23,a(Y());case 23:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()},Y=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"EXIT_LEAGUE"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},W=Object(p.f)((function(e){var t=e.children,a=e.history,n=Object(O.useMediaQuery)({query:"(min-width: 1200px)"}),c=Object(O.useMediaQuery)({query:"(max-width: 850px)"}),s=!n&&!c,i=Object(r.useState)(null),o=Object(h.a)(i,2),u=o[0],b=o[1],x=Object(l.c)();Object(r.useEffect)((function(){b([n,s,c].findIndex((function(e){return e})))}),[n,s,c]);return Object(m.jsx)(d.Provider,{value:{device:u,signOut:function(){try{j.browserStorage.reset(),a.push(j.Routes.Client.SignUp),x(I())}catch(e){console.log(e)}},redirectToGamePlay:function(e){x(F(e)),a.push(j.Routes.Client.GameDeck)},goTo:function(e){a.push(e)},cancelGame:function(){x(V()),a.push(j.Routes.Client.Root),S("\u0628\u0627\u0632\u06cc \u0627\u0632 \u0633\u0648\u06cc \u06cc\u06a9\u06cc \u0627\u0632 \u0628\u0627\u0632\u06cc\u06a9\u0646\u0627\u0646 \u0644\u063a\u0648 \u0634\u062f."),setTimeout((function(){a.push(j.Routes.Client.GameDeck)}),500)},openLeaguePage:function(e){j.browserStorage.enter_league(e),x(J(e)),a.push(j.Routes.Client.League)}},children:t})})),X=a(150),Q=a(151),Z=(a(32),function(){var e=Object(l.d)((function(e){return e.me})),t=Object(r.useContext)(d);return Object(m.jsxs)(X.a,{className:"profile-panel-sidebar d-flex flex-column flex-shrink-0",children:[Object(m.jsx)("hr",{}),Object(m.jsxs)("ul",{className:"nav nav-pills flex-column mb-auto",children:[Object(m.jsx)("li",{className:"nav-item animated-button",children:Object(m.jsxs)(u.b,{exact:!0,to:b.a.Routes.Client.Profile,className:"nav-link","aria-current":"page",children:[Object(m.jsx)("i",{className:"fa fa-user-o px-2","aria-hidden":"true"}),"\u0645\u0634\u062e\u0635\u0627\u062a"]})}),Object(m.jsx)("li",{className:"animated-button",children:Object(m.jsxs)(u.b,{className:"nav-link link-dark",to:b.a.Routes.Client.MyGamesAndFriends,children:[Object(m.jsx)("i",{className:"fa fa-users px-2","aria-hidden":"true"}),"\u062f\u0648\u0633\u062a\u0627\u0646 \u0648 \u0628\u0627\u0632\u06cc \u0647\u0627"]})}),Object(m.jsx)("li",{className:"animated-button",children:Object(m.jsxs)(u.b,{className:"nav-link link-dark",to:b.a.Routes.Client.ChatRoom,children:[Object(m.jsx)("i",{className:"fa fa-comment px-2","aria-hidden":"true"}),"\u0686\u062a \u0631\u0648\u0645"]})}),Object(m.jsx)("hr",{}),e&&e.isAdmin&&Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)("li",{className:"animated-button",children:Object(m.jsxs)(u.b,{className:"nav-link link-dark border-top",to:b.a.Routes.Client.Notices,children:[Object(m.jsx)("i",{className:"fa fa-newspaper-o px-2","aria-hidden":"true"}),"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627"]})}),Object(m.jsx)("li",{className:"animated-button",children:Object(m.jsx)(u.b,{className:"nav-link link-dark",to:b.a.Routes.Client.StudentManagement,children:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u0627\u0646"})}),Object(m.jsx)("li",{className:"animated-button",children:Object(m.jsx)(u.b,{className:"nav-link link-dark",to:b.a.Routes.Client.LeaguesManager,children:"\u0644\u06cc\u06af \u0645\u0646\u06cc\u062c\u0631"})}),Object(m.jsx)("li",{className:"animated-button",children:Object(m.jsx)(u.b,{className:"nav-link link-dark",to:b.a.Routes.Client.Documents,children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0633\u0627\u06cc\u062a"})})]})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(Q.a,{variant:"outline-danger",className:"animated-button",onClick:t.signOut,children:[Object(m.jsx)("i",{className:"fa fa-sign-out px-2","aria-hidden":"true"}),"\u062e\u0631\u0648\u062c \u0627\u0632 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc"]})]})}),$=function(){var e=Object(l.d)((function(e){return e.me})),t=Object(r.useContext)(d);return Object(m.jsxs)(s.a,{bg:"transparent",style:{border:"1px solid grey",borderRadius:"5px"},className:"justify-content-center p-2 mt-2 nav-pills text-right w-100",children:[Object(m.jsx)(u.b,{activeClassName:"btn btn-primary",exact:!0,to:b.a.Routes.Client.Profile,className:"nav-link mx-1","aria-current":"page",children:Object(m.jsx)("i",{className:"fa fa-user-o","aria-hidden":"true"})}),Object(m.jsx)(u.b,{activeClassName:"btn btn-primary",className:"nav-link mx-1",to:b.a.Routes.Client.MyGamesAndFriends,children:Object(m.jsx)("i",{className:"fa fa-users","aria-hidden":"true"})}),Object(m.jsx)(u.b,{activeClassName:"btn btn-primary",className:"nav-link mx-1",to:b.a.Routes.Client.ChatRoom,children:Object(m.jsx)("i",{className:"fa fa-weixin","aria-hidden":"true"})}),e&&e.isAdmin&&Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(u.b,{activeClassName:"btn btn-primary",className:"nav-link mx-1 border-top",to:b.a.Routes.Client.Notices,children:Object(m.jsx)("i",{className:"fa fa-newspaper-o","aria-hidden":"true"})}),Object(m.jsx)(u.b,{className:"nav-link link-dark",to:b.a.Routes.Client.StudentManagement,children:Object(m.jsx)("i",{className:"fa fa-cogs","aria-hidden":"true"})}),Object(m.jsx)(u.b,{className:"nav-link link-dark",to:b.a.Routes.Client.LeaguesManager,children:"\u0644\u06cc\u06af \u0645\u0646\u06cc\u062c\u0631"}),Object(m.jsx)(u.b,{className:"nav-link link-dark",to:b.a.Routes.Client.Documents,children:Object(m.jsx)("i",{className:"fa fa-cogs","aria-hidden":"true"})})]}),Object(m.jsx)(Q.a,{variant:"outline-danger",className:"mx-3",onClick:t.signOut,children:Object(m.jsx)("i",{className:"fa fa-sign-out","aria-hidden":"true"})})]})},ee=a(98),te=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.opponent})),a=j.browserStorage.TOKEN();return Object(r.useEffect)((function(){try{Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,e(P());case 3:t.next=7;break;case 5:return t.next=7,e(I());case 7:case"end":return t.stop()}}),t)})))()}catch(t){console.log(t)}}),[a,t,e]),null},ae=j.Routes.Server,ne={getOurChat:function(e){return E.get("".concat(ae.Root,"/").concat(ae.Chats,"/").concat(ae.SingleChat,"/").concat(e))},getMyInteractions:function(){return E.get("".concat(ae.Root,"/").concat(ae.Chats,"/").concat(ae.Interactions))}},ce=function(e,t,a,n){var c=n.sent,r=n.recieved;return function(){var n=Object(v.a)(g.a.mark((function n(s,i){var o;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(o=i().interactions).find((function(e){return e.with.userID===t})).messages.push({name:e,me:c?a:null,friend:r?a:null,date:new Date}),n.next=5,s({type:"LOAD_INTERACTIONS",payload:o});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}()},re=a(73),se=function(e){var t=e.loading,a=Object(r.useState)(0),n=Object(h.a)(a,2),c=n[0],s=n[1];Object(r.useEffect)((function(){s(Math.floor(100*Math.random()))}),[]),Object(r.useLayoutEffect)((function(){document.body.style={overflowY:"auto"},document.body.style={height:"auto"}}),[t,c]);var i=c%3===0?Object(m.jsx)(re.Circle2,{time:0,customLoading:t}):c%3===1?Object(m.jsx)(re.Planets,{time:0,customLoading:t}):Object(m.jsx)(re.Sugar,{time:0,customLoading:t});return Object(m.jsx)(r.Fragment,{children:t?i:null})},ie=function(e){var t=e.children,a=Object(r.useContext)(d),n=Object(r.useState)(!1),c=Object(h.a)(n,2),s=c[0],i=c[1],o=Object(l.c)();return Object(r.useEffect)((function(){return Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,o(P());case 4:return e.next=6,o(function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n,c,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=[],e.next=4,ne.getMyInteractions();case 4:if(n=e.sent,c=n.status,r=n.data,c!==j.Status.Successful){e.next=18;break}if(!((s=r.interactions)instanceof Array)){e.next=15;break}return s.forEach((function(e){var t=e.friend,n=e.messages,c=e.ownerOf;a.push({with:t,messages:n.map((function(e){return c===e.owner?{me:e.text,friend:null,date:e.date}:{me:null,friend:e.text,date:e.date}}))})})),e.next=13,t({type:"LOAD_INTERACTIONS",payload:a});case 13:e.next=16;break;case 15:throw new Error("null interaction response! means sth went wrong");case 16:e.next=19;break;case 18:throw new Error("Error happened while forming chats list");case 19:e.next=27;break;case 21:return e.prev=21,e.t0=e.catch(0),console.log("Loading chats interrupted cause of this error: ".concat(e.t0)),j.Status.isErrorExpected(e.t0)||S("\u062d\u06cc\u0646 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u067e\u06cc\u0627\u0645 \u0647\u0627 \u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f. \u0644\u0637\u0641\u0627 \u0644\u062d\u0638\u0627\u062a\u06cc \u0628\u0639\u062f \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f"),e.next=27,t({type:"RESET_INTERACTIONS"});case 27:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}());case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i(!1);case 11:i(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))(),function(){o(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"RESET_INTERACTIONS"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),[o]),Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(se,{loading:s}),Object(m.jsx)(te,{}),a.device===j.Devices.Desktop?Object(m.jsxs)(X.a,{className:"w-100 mx-auto",children:[Object(m.jsx)(ee.a,{lg:3,children:Object(m.jsx)(Z,{})}),Object(m.jsx)(ee.a,{lg:9,children:t})]}):Object(m.jsxs)(X.a,{className:"w-100 mx-auto",children:[Object(m.jsx)(ee.a,{className:"mx-auto",sm:12,children:Object(m.jsx)($,{})}),Object(m.jsx)(ee.a,{sm:12,children:t})]})]})},oe=a(17),le=j.Routes.Server,ue={getAllGames:function(){return E.get("".concat(le.Root,"/").concat(le.Games))},getMyGames:function(){return E.get("".concat(le.Root,"/").concat(le.Games,"/").concat(le.Mine))}},de=a(161),je=a(155),be=function(e){var t=e.children;return Object(m.jsx)(de.a,{className:"bg-transparent mx-auto mt-3",border:"danger",children:Object(m.jsx)(de.a.Body,{className:"text-center",children:Object(m.jsxs)(de.a.Text,{children:[t,"."]})})})},me=(a(90),a(78)),xe=a(50),he=a.n(xe),Oe=a(51),pe=a.n(Oe),fe=function(e){return new me.default({date:new Date(e),calendar:he.a,locale:pe.a})},ge=function(e){return[fe(e).format("dddd DD MMMM YYYY"),fe(e).format("hh:mm")]},ve=function(e){return fe(e).format("hh:mm")},ye=function(e){e.Type;var t=e.date,a=e.playerXName,n=e.playerOName,c=e.xScore,s=e.oScore,o=Object(r.useState)(null),l=Object(h.a)(o,2),u=l[0],b=l[1],x=Object(r.useState)(null),O=Object(h.a)(x,2),p=O[0],f=O[1],g=Object(r.useState)(null),v=Object(h.a)(g,2),y=v[0],N=v[1],S=Object(r.useContext)(d);return Object(r.useEffect)((function(){N(ge(t)[0]),c>s?(b("badge-success"),f("badge-danger")):c===s?(b("badge-warning"),f("badge-warning")):(f("badge-success"),b("badge-danger"))}),[t,c,s]),Object(m.jsxs)(de.a,{border:"dark",className:"single-score-card",children:[Object(m.jsx)(de.a.Body,{children:Object(m.jsx)(X.a,{className:"text-center mx-auto",children:S.device!==j.Devices.SmartPhone?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{className:"col-lg-5 col-md-5",children:a}),Object(m.jsx)("span",{className:"badge badge-pill ".concat(u," single-score-badge col-lg-1 col-md-1"),children:c}),Object(m.jsx)("span",{className:"badge badge-pill ".concat(p," single-score-badge col-lg-1 col-md-1"),children:s}),Object(m.jsx)("span",{className:"col-lg-5 col-md-5",children:n})]}):Object(m.jsxs)(i.a,{children:[Object(m.jsxs)(X.a,{children:[Object(m.jsx)("span",{className:"col-10 text-right",children:a}),Object(m.jsx)("span",{className:"badge badge-pill ".concat(u," single-score-badge col-2"),children:c})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(X.a,{children:[Object(m.jsx)("span",{className:"col-10 text-right",children:n}),Object(m.jsx)("span",{className:"badge badge-pill ".concat(p," single-score-badge col-2"),children:s})]})]})})}),Object(m.jsx)(de.a.Footer,{className:"p-0",children:Object(m.jsxs)(Q.a,{variant:"outline-dark",block:!0,disabled:!0,size:"lg",className:"replay-game-button",children:[y,Object(m.jsx)("i",{className:"fa fa-pie-chart px-3","aria-hidden":"true"})]})})]})},Ne=function(e){var t=e.scores;return Object(m.jsx)(r.Fragment,{children:t.length?t.map((function(e){return Object(m.jsx)(ye,{Type:e.Type,date:e.date,playerXName:e.players[0].name,playerOName:e.players[1].name,xScore:e.players[0].score,oScore:e.players[1].score},e.gameID)})):Object(m.jsx)(be,{children:"\u0647\u06cc\u0686 \u0628\u0627\u0632\u06cc \u0627\u06cc \u0627\u0646\u062c\u0627\u0645 \u0646\u06af\u0631\u0641\u062a\u0647 \u0627\u0633\u062a"})})},Se=a(153),we=a(162),ke=a(154),Ce=a(152),Ee=function(e){var t=e.children,a=e.title,n=e.small;return Object(m.jsx)(we.a.Item,{className:"h-100 bg-transparent",children:Object(m.jsxs)(X.a,{className:!n&&"h-100 py-2",children:[Object(m.jsx)(ee.a,{className:"text-right",children:Object(m.jsx)(de.a.Text,{children:a})}),Object(m.jsx)(ee.a,{className:n?"text-left":"text-center",children:Object(m.jsx)(Ce.a,{className:"friend-badge-font-size",pill:!0,variant:"primary",children:t})})]})})},Te=a(13),Re=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(Te.a)({},a().tools)).randomSearchRepeats=(n.randomSearchRepeats+1)%j.GameSetting.RandomSearchRepeatLimit,e.next=4,t({type:"UPDATE_TOOLS",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},De=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(Te.a)({},a().tools)).randomSearchRepeats=0,e.next=4,t({type:"UPDATE_TOOLS",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},Ie=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(Te.a)({},a().tools)).friendRequestTarget=null,e.next=4,t({type:"UPDATE_TOOLS",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},Le=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(Te.a)({},a().tools)).friendlyGameTarget=null,e.next=4,t({type:"UPDATE_TOOLS",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},Pe=function(e,t,a){return function(){var n=Object(v.a)(g.a.mark((function n(c,r){var s;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(s=Object(Te.a)({},r().tools)).gameInvitation={ID:e,name:t,type:a},n.next=4,c({type:"UPDATE_TOOLS",payload:s});case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Ae=function(){return function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(Te.a)({},a().tools)).recordReloadTrigger=!n.reloadTrigger,e.next=4,t({type:"UPDATE_TOOLS",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},Ge=function(e){var t=e.person,a=e.thisIsMe,n=Object(l.d)((function(e){return e.room})),c=Object(r.useState)(4),s=Object(h.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)(null),d=Object(h.a)(u,2),b=d[0],x=d[1],O=Object(l.c)();Object(r.useEffect)((function(){t&&Object(v.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.getAvatar(t.userID);case 3:a=e.sent,n=a.data,a.status===j.Status.Successful&&x(n.avatar),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),j.Status.isErrorExpected(e.t0)||S("\u0645\u0634\u06a9\u0644\u06cc \u062f\u0631 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u0622\u0648\u0627\u062a\u0627\u0631 \u0627\u06cc\u0646 \u0634\u062e\u0635 \u067e\u06cc\u0634 \u0622\u0645\u062f ... \u0644\u0637\u0641\u0627 \u0627\u062a\u0635\u0627\u0644 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[t]);var p=t.records;return Object(m.jsxs)(de.a,{border:"success",bg:"transparent",className:"friend-records",children:[Object(m.jsx)(de.a.Body,{children:Object(m.jsxs)(X.a,{className:"w-100 p-0 mx-auto",children:[Object(m.jsx)(ee.a,{sm:12,md:12,lg:3,className:"text-center mx-auuto",children:Object(m.jsx)(Se.a,{className:"friends-section-avatar",src:b,alt:"\u062e\u0637\u0627",roundedCircle:!0})}),Object(m.jsx)(ee.a,{sm:12,md:12,lg:9,children:Object(m.jsxs)(we.a,{className:"list-group list-group-flush",children:[Object(m.jsxs)(X.a,{className:"h-100",children:[Object(m.jsx)(ee.a,{className:"p-0 h-100 w-100",children:Object(m.jsx)(Ee,{title:"\u0627\u0645\u062a\u06cc\u0627\u0632 \u0628\u0627\u0632\u06cc\u06a9\u0646",children:p.points})}),Object(m.jsx)(ee.a,{className:"p-0 h-100 w-100",children:Object(m.jsx)(Ee,{title:"\u062a\u0639\u062f\u0627\u062f \u0628\u0631\u062f\u0647\u0627",children:p.wins})})]}),Object(m.jsxs)(X.a,{className:"h-100",children:[Object(m.jsx)(ee.a,{className:"p-0 h-100 w-100",children:Object(m.jsx)(Ee,{title:"\u062a\u0639\u062f\u0627\u062f \u062a\u0633\u0627\u0648\u06cc",children:p.draws})}),Object(m.jsx)(ee.a,{className:"p-0 h-100 w-100",children:Object(m.jsx)(Ee,{title:"\u062a\u0639\u062f\u0627\u062f \u0628\u0627\u062e\u062a\u0647\u0627",children:p.loses})})]})]})})]})}),!a&&t&&Object(m.jsx)(de.a.Footer,{children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{sm:4,xs:12,children:Object(m.jsxs)(Q.a,{variant:"secondary",block:!0,onClick:function(){n.type||n.type||a?S("\u0628\u0631\u0627\u06cc \u0634\u0631\u0648\u0639 \u0628\u0627\u0632\u06cc \u062c\u062f\u06cc\u062f\u060c \u0628\u0627\u06cc\u062f \u0628\u0627\u0632\u06cc \u0642\u0628\u0644\u06cc \u0634\u0645\u0627 \u0628\u0647 \u0627\u062a\u0645\u0627\u0645 \u0628\u0631\u0633\u062f"):(O(function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n,c){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(r=Object(Te.a)({},c().tools)).friendlyGameTarget={targetID:e,type:t},a.next=4,n({type:"UPDATE_TOOLS",payload:r});case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(t.userID,i)),setTimeout((function(){O(Le())}),1e4))},children:[Object(m.jsx)("i",{className:"fa fa-handshake-o px-2","aria-hidden":"true"}),"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0628\u0627\u0632\u06cc"]})}),Object(m.jsx)(ee.a,{sm:8,xs:12,children:Object(m.jsxs)(ke.a,{children:[Object(m.jsxs)(ke.a.Prepend,{children:[Object(m.jsx)(ke.a.Radio,{value:3,name:"dimension",onChange:function(){return o(3)}}),Object(m.jsx)(ke.a.Text,{children:"3 * 3 * 3"})]}),Object(m.jsxs)(ke.a.Prepend,{children:[Object(m.jsx)(ke.a.Radio,{value:4,name:"dimension",onChange:function(){return o(4)},defaultChecked:!0}),Object(m.jsx)(ke.a.Text,{children:"4 * 4 * 4"})]}),Object(m.jsxs)(ke.a.Prepend,{children:[Object(m.jsx)(ke.a.Radio,{value:5,name:"dimension",onChange:function(){return o(5)}}),Object(m.jsx)(ke.a.Text,{children:"5 * 5 * 5"})]})]})})]})})]})},Me=function(){var e=Object(l.d)((function(e){return e.me})),t=Object(r.useState)(!1),a=Object(h.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)([]),i=Object(h.a)(s,2),u=i[0],d=i[1],x=Object(r.useState)("me"),O=Object(h.a)(x,2),p=O[0],f=O[1],y=Object(r.useState)(-1),N=Object(h.a)(y,2),w=N[0],k=N[1],C=Object(r.useState)([]),E=Object(h.a)(C,2),T=E[0],R=E[1],D=Object(r.useState)(0),I=Object(h.a)(D,2),L=I[0],P=I[1],A=Object(l.d)((function(e){return e.interactions}));Object(r.useEffect)((function(){L!==A.length&&(R(A.map((function(e){return e.with}))),P(A.length))}),[A,L]),Object(r.useEffect)((function(){Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,ue.getMyGames();case 4:(t=e.sent).status===b.a.Status.Successful&&d(Object(oe.a)(t.data.myGames.reverse())),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),j.Status.isErrorExpected(e.t0)||S("\u0645\u0634\u06a9\u0644\u06cc \u062d\u06cc\u0646 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u0644\u06cc\u0633\u062a \u0628\u0627\u0632\u06cc \u0647\u0627 \u067e\u06cc\u0634 \u0622\u0645\u062f. \u0627\u0631\u062a\u0628\u0627\u0637 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a\u06cc \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f."),c(!1);case 13:c(!1);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),Object(r.useEffect)((function(){k("me"!==p?T.findIndex((function(e){return e.userID===p})):-1)}),[p,T]);return Object(m.jsxs)(de.a,{border:"secondary",bg:"transparent",className:"big-single-card",children:[Object(m.jsx)(de.a.Header,{className:"text-center",children:"\u0644\u06cc\u0633\u062a \u062f\u0648\u0633\u062a\u0627\u0646 \u0648 \u0622\u0645\u0627\u0631 \u0628\u0627\u0632\u06cc \u0647\u0627"}),Object(m.jsx)(se,{loading:n}),Object(m.jsxs)(de.a.Body,{children:[Object(m.jsx)(se,{loading:n}),Object(m.jsx)(je.a.Container,{defaultActiveKey:p,onSelect:function(e){return f(e)},children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{lg:3,md:4,sm:12,className:"friend-list-name-length tabs-list-friends-in-games-scrollable",children:Object(m.jsxs)(o.a,{variant:"pills",className:"flex-column text-right",children:[Object(m.jsx)(o.a.Link,{className:"animated-navitem",eventKey:"me",children:"\u0647\u0645\u0647 \u0628\u0627\u0632\u06cc \u0647\u0627"}),T.map((function(e){return Object(m.jsx)(o.a.Link,{className:"animated-navitem",eventKey:e.userID,children:Object(m.jsxs)(X.a,{className:"m-0 w-100",children:[Object(m.jsx)(ee.a,{children:e.name}),Object(m.jsx)(ee.a,{xs:1,children:Object(m.jsx)("i",{onClick:function(){},className:"icon-unfriend fa fa-times pl-2","area-hidden":"true"})})]})})}))]})}),Object(m.jsx)(ee.a,{lg:9,md:8,sm:12,children:Object(m.jsxs)(je.a.Content,{children:[Object(m.jsxs)(je.a.Pane,{eventKey:"me",children:[e&&Object(m.jsx)(Ge,{person:e,thisIsMe:!0}),Object(m.jsx)(Ne,{scores:u})]}),T.map((function(t){return Object(m.jsxs)(je.a.Pane,{eventKey:t.userID,children:[Object(m.jsx)(Ge,{person:-1!==w?T[w]:e,thisIsMe:e.userID===w}),Object(m.jsx)(Ne,{scores:u.filter((function(e){return t.userID===e.players[0].id||t.userID===e.players[1].id}))})]})}))]})})]})})]})]})},_e=a(158),Ue=a(156),Be=a(81),Fe=a.n(Be),Ve=j.Routes.Server,qe={createNotice:function(e){return E.post("".concat(Ve.Root,"/").concat(Ve.Notices,"/").concat(Ve.NoticeManagement),JSON.stringify(e))},getAdvancedNotics:function(){return E.get("".concat(Ve.Root,"/").concat(Ve.Notices,"/").concat(Ve.NoticeManagement))},getShortNotices:function(){return E.get("".concat(Ve.Root,"/").concat(Ve.Notices))},editNotice:function(e,t){return E.put("".concat(Ve.Root,"/").concat(Ve.Notices,"/").concat(Ve.NoticeManagement,"/").concat(e),JSON.stringify(t))}},Ke=a(67),He=function(){var e=Object(l.d)((function(e){return e.me})),t=Object(r.useState)(void 0),a=Object(h.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(""),i=Object(h.a)(s,2),o=i[0],u=i[1],d=Object(r.useState)(""),b=Object(h.a)(d,2),x=b[0],O=b[1],p=Object(r.useState)(null),f=Object(h.a)(p,2),y=f[0],N=f[1],k=Object(r.useState)(null),C=Object(h.a)(k,2),E=C[0],T=C[1],R=Object(r.useState)([]),D=Object(h.a)(R,2),I=D[0],L=D[1],P=Object(r.useState)(null),A=Object(h.a)(P,2),G=A[0],M=A[1],_=Object(r.useState)(!1),U=Object(h.a)(_,2),B=U[0],F=U[1],V=Object(r.useState)(!1),q=Object(h.a)(V,2),K=q[0],H=q[1],z=function(){u(""),O(""),N(null),T(null),M(null),F(!B)};Object(r.useEffect)((function(){Object(v.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H(!0),e.next=4,qe.getAdvancedNotics();case 4:t=e.sent,a=t.status,n=t.data,a===j.Status.Successful&&(n.notices.length&&L(Object(oe.a)(n.notices.reverse())),0===n.notices.length&&L([{title:"\u067e\u06cc\u0627\u0645",text:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u062c\u062f\u06cc\u062f\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f"}])),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),L([{title:"\u062e\u0637\u0627",text:"...\u0645\u0634\u06a9\u0644\u06cc \u062d\u06cc\u0646 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627 \u067e\u06cc\u0634 \u0622\u0645\u062f. \u062f\u0648\u0628\u0627\u0631\u0647 \u0627\u0645\u062a\u062d\u0627\u0646 \u06a9\u0646\u06cc\u062f"}]),H(!1);case 14:H(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[B]),Object(r.useEffect)((function(){var t=void 0;if(j.browserStorage.TOKEN()){var a=Object(Ke.a)(j.browserStorage.TOKEN());if(t=a&&a.user.admin&&a.exp>Date.now()/1e3,!e||!1===t)return S("\u0645\u062a\u0627\u0633\u0641\u0627\u0646\u0647 \u0634\u0645\u0627 \u0645\u062c\u0648\u0632 \u062f\u0633\u062a\u0631\u0633\u06cc \u0628\u0647 \u0627\u06cc\u0646 \u0635\u0641\u062d\u0647 \u0631\u0627 \u0646\u062f\u0627\u0631\u06cc\u062f."),null}else t=!1;c(t)}),[e]);var J=function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H(!0),e.next=4,qe.createNotice({title:o,text:x,startDate:new Date(y),endDate:new Date(E)});case 4:t=e.sent,t.status===j.Status.CreatedSuccessfully&&(w("\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u06cc ".concat(o," \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0633\u0627\u062e\u062a\u0647 \u0634\u062f")),z()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),j.Status.isErrorExpected(e.t0)||S("\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0628\u0648\u062c\u0648\u062f \u0627\u0645\u062f ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f");case 12:H(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G){e.next=2;break}return e.abrupt("return");case 2:return H(!0),e.prev=3,e.next=6,qe.editNotice(G,{title:o,text:x,startDate:y,endDate:E});case 6:t=e.sent,t.status===j.Status.Successful&&(w("\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u06cc ".concat(o," \u0628\u0627 \u0645\u0648\u0631\u0641\u0642\u06cc\u062a \u0648\u06cc\u0631\u0627\u06cc\u0634 \u0634\u062f")),z()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),j.Status.isErrorExpected(e.t0)||S("\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0628\u0648\u062c\u0648\u062f \u0627\u0645\u062f ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f");case 14:H(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(r.Fragment,{children:e&&n&&Object(m.jsxs)(X.a,{style:{height:"100%"},children:[Object(m.jsx)(se,{loading:K}),Object(m.jsx)(ee.a,{lg:6,md:5,sm:12,children:Object(m.jsxs)(de.a,{border:"success",bg:"transparent",className:"mx-auto notice-manager-card",children:[Object(m.jsx)(de.a.Header,{className:"text-center",children:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u062c\u062f\u06cc\u062f"}),Object(m.jsxs)(de.a.Body,{className:"text-right",children:[Object(m.jsx)(_e.a.Label,{className:"my-1 mx-auto",children:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647"}),Object(m.jsx)(_e.a.Control,{value:o,onChange:function(e){return u(e.target.value)},pattern:".{3,30}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0639\u0646\u0648\u0627\u0646 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 3 \u0648 \u062d\u062f\u0627\u06a9\u062b\u0631 30 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f")},className:"my-1 mx-auto animated-textbox",type:"text",placeholder:"\u0639\u0646\u0648\u0627\u0646",required:"required"}),Object(m.jsx)("hr",{}),Object(m.jsx)(_e.a.Label,{className:"my-1 mx-auto",children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"}),Object(m.jsx)(_e.a.Control,{as:"textarea",pattern:".{5,200}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0645\u062a\u0646 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 5 \u0648 \u062d\u062f\u0627\u06a9\u062b\u0631 200 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f")},className:"my-1 animated-textbox h-25",placeholder:"\u0645\u062a\u0646 \u06a9\u0627\u0645\u0644 \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f",value:x,required:"required",onChange:function(e){return O(e.target.value)}}),Object(m.jsx)("hr",{}),Object(m.jsx)(_e.a.Label,{className:"my-1 mx-2",children:"\u062a\u0627\u0631\u06cc\u062e \u0634\u0631\u0648\u0639 \u0646\u0645\u0627\u06cc\u0634"}),Object(m.jsx)(Fe.a,{className:"my-1 mx-auto w-100",calendar:he.a,locale:pe.a,calendarPosition:"bottom-right",value:y,onChange:N,required:"required"}),Object(m.jsx)("hr",{}),Object(m.jsx)(_e.a.Label,{className:"my-1 mx-2",children:"\u062a\u0627\u0631\u06cc\u062e \u067e\u0627\u06cc\u0627\u0646 \u0646\u0645\u0627\u06cc\u0634"}),Object(m.jsx)(Fe.a,{className:"my-1 mx-auto",calendar:he.a,locale:pe.a,calendarPosition:"bottom-right",value:E,onChange:T,required:"required"}),Object(m.jsx)("hr",{})]}),Object(m.jsx)(de.a.Footer,{children:G?Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{lg:6,md:12,children:Object(m.jsxs)(Q.a,{block:!0,variant:"outline-primary",onClick:Y,children:[Object(m.jsx)("i",{className:"fa fa-floppy-o px-3","aria-hidden":"true"}),"\u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"]})}),Object(m.jsx)(ee.a,{lg:6,md:12,children:Object(m.jsxs)(Q.a,{block:!0,variant:"outline-warning text-secondary",onClick:function(){z()},children:[Object(m.jsx)("i",{className:"fa fa-floppy-o px-3","aria-hidden":"true"}),"\u0644\u063a\u0648 \u0648\u06cc\u0631\u0627\u06cc\u0634"]})})]}):Object(m.jsxs)(Q.a,{block:!0,variant:"success",onClick:J,children:[Object(m.jsx)("i",{className:"fa fa-floppy-o px-3","aria-hidden":"true"}),"\u0627\u06cc\u062c\u0627\u062f \u0627\u0637\u0644\u0627\u0639\u06cc\u0647"]})})]})}),Object(m.jsx)(ee.a,{lg:6,md:7,sm:12,children:Object(m.jsxs)(de.a,{border:"info",bg:"transparent",className:"mx-auto notice-manager-card",children:[Object(m.jsx)(de.a.Header,{className:"text-center",children:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627\u06cc \u0642\u0628\u0644\u06cc"}),Object(m.jsx)(de.a.Body,{style:{overflowY:"scroll"},className:"text-right",children:I.map((function(e){return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsxs)(Ue.a,{variant:"secondary",children:[Object(m.jsx)("i",{className:"fa fa-info-circle px-3","aria-hidden":"true"}),Object(m.jsx)("span",{style:{color:"red",fontSize:"18px"},children:e.title}),": ",e.text,Object(m.jsx)("i",{className:"icon-edit-notice fa fa-pencil-square-o px-3","aria-hidden":"true",onClick:function(){return function(e){M(e._id),u(e.title),O(e.text),N(new Date(e.startDate)),T(new Date(e.endDate))}(e)}})]}),Object(m.jsx)("hr",{})]})}))})]})})]})})},ze=(a(76),function(e,t,a){return function(){var n=Object(v.a)(g.a.mark((function n(c){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(a&&t&&e)){n.next=8;break}return n.next=4,c({type:"SEND_MESSAGE",payload:{name:e,friendID:t,text:a}});case 4:return n.next=6,c(ce(e,t,a,{sent:!0}));case 6:n.next=9;break;case 8:console.log("msg not sent: data missing...");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}),Je=function(e,t,a){return function(){var n=Object(v.a)(g.a.mark((function n(c){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(a&&t&&e)){n.next=8;break}return n.next=4,c({type:"RECIEVE_MESSAGE",payload:{name:e,friendID:t,text:a}});case 4:return n.next=6,c(ce(e,t,a,{recieved:!0}));case 6:n.next=9;break;case 8:console.log("msg not recieved: data missing...");case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},Ye=function(e){var t=e.msg,a=e.previousDay,n=t.date,c=Object(r.useState)(!1),s=Object(h.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(null),u=Object(h.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)(null),x=Object(h.a)(b,2),O=x[0],p=x[1];return Object(r.useEffect)((function(){var e=ge(n),t=Object(h.a)(e,2),c=t[0],r=t[1];j(r),p(c),o(new Date(n).getDate()!==a||0===a)}),[n,a]),Object(m.jsxs)(r.Fragment,{children:[i?Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)("hr",{}),Object(m.jsx)("p",{className:"message-date",children:O})]}):null,Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{md:6,sm:t.me?8:4,xs:t.me?9:3,children:t.me&&Object(m.jsx)(Ue.a,{className:"text-right",variant:"dark",children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{lg:9,xs:12,children:t.me}),Object(m.jsx)(ee.a,{className:"message-time",lg:3,xs:12,children:d})]})})}),Object(m.jsx)(ee.a,{md:6,sm:t.friend?8:4,xs:t.friend?9:3,children:t.friend&&Object(m.jsx)(Ue.a,{className:"text-right",variant:"primary",children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{lg:9,xs:12,children:t.friend}),Object(m.jsx)(ee.a,{className:"message-time",lg:3,xs:12,children:d})]})})})]})]})},We=function(e){var t=e.friend,a=e.chat,n=Object(r.useState)(""),c=Object(h.a)(n,2),s=c[0],o=c[1],u=Object(l.d)((function(e){return e.message})),d=Object(l.c)(),j=Object(l.d)((function(e){return e.me})),b=Object(r.useRef)(null);return Object(r.useEffect)((function(){setTimeout((function(){b&&b.current&&b.current.scrollIntoView({behavior:"smooth",top:b.current.offsetTop})}),100)}),[u]),Object(m.jsx)(je.a.Pane,{eventKey:t.userID,children:Object(m.jsxs)(i.a,{children:[Object(m.jsx)(X.a,{children:Object(m.jsx)(de.a,{border:"dark",bg:"transparent",className:"chat-main-card chat-box-scrollable",children:Object(m.jsx)(de.a.Body,{children:a&&a instanceof Array&&a.map((function(e,t){return Object(m.jsx)("div",{ref:b,children:Object(m.jsx)(Ye,{msg:e,previousDay:0!==t?new Date(a[t-1].date).getDate():0})})}))})})}),Object(m.jsx)(X.a,{children:Object(m.jsx)(_e.a,{onSubmit:function(e){return function(e){e.preventDefault(),s&&(d(ze(j.fullname,t.userID,s)),o(""))}(e)},className:"w-100 mt-3",children:Object(m.jsxs)(X.a,{className:"w-100 p-0 m-0",children:[Object(m.jsx)(ee.a,{xs:1,className:"m-0 p-0 text-center",children:Object(m.jsx)(Q.a,{type:"submit",className:"w-100 mx-auto",variant:"outline-info",children:Object(m.jsx)("i",{className:"fa fa-paper-plane","aria-hidden":"true"})})}),Object(m.jsx)(ee.a,{xs:11,className:"m-0 p-0 w-100",children:Object(m.jsx)(_e.a.Control,{className:"py-0 px-3 bg-transparent chat-room-message-box animated-textbox text-right",value:s,onChange:function(e){return o(e.target.value)},placeholder:"\u067e\u06cc\u0627\u0645..."})})]})})})]})})},Xe=function(){var e=Object(r.useContext)(d),t=Object(l.d)((function(e){return e.interactions})).sort((function(e,t){return new Date(t.messages[t.messages.length-1].date).getTime()-new Date(e.messages[e.messages.length-1].date).getTime()}));return Object(m.jsxs)(de.a,{border:"secondary",bg:"transparent",className:"chat-main-card",children:[Object(m.jsx)(de.a.Header,{className:"text-center",children:"\u0686\u062a \u0631\u0648\u0645 \u0634\u0645\u0627"}),Object(m.jsx)(de.a.Body,{children:Object(m.jsx)(je.a.Container,{children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{className:e.device!==j.Devices.SmartPhone?"chat-room-devider chat-scrollable-friends ":"smartphone-chat-scrollable-friends",lg:3,md:3,sm:12,children:Object(m.jsx)(o.a,{variant:"pills",className:"flex-column text-right",children:t.map((function(e){return Object(m.jsx)(o.a.Link,{className:"animated-navitem",eventKey:e.with.userID,children:e.with.name})}))})}),Object(m.jsx)(ee.a,{lg:9,md:9,sm:12,children:Object(m.jsx)(je.a.Content,{children:t.map((function(e){return Object(m.jsx)(We,{friend:e.with,chat:e.messages})}))})})]})})})]})},Qe=a(163),Ze=function(){var e=Object(r.useState)(""),t=Object(h.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),s=Object(h.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(""),u=Object(h.a)(l,2),d=u[0],j=u[1],x=Object(r.useState)(""),O=Object(h.a)(x,2),p=O[0],f=O[1],y=Object(r.useState)(""),N=Object(h.a)(y,2),k=N[0],C=N[1],E=Object(r.useState)(!1),T=Object(h.a)(E,2),D=T[0],I=T[1];Object(r.useEffect)((function(){Object(v.a)(g.a.mark((function e(){var t,a,c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),e.next=4,R.getMyCredentials();case 4:t=e.sent,a=t.status,c=t.data,a===b.a.Status.Successful&&(r=c.me,n(r.fullname),o(r.studentID),j(r.email)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),b.a.Status.isErrorExpected(e.t0)||S("\u062d\u06cc\u0646 \u062f\u0631\u06cc\u0627\u0641\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631 \u0627\u06cc\u0631\u0627\u062f\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f. ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f."),C(!1);case 14:C(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[D]);var L=function(){var e=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C(!0),e.prev=2,e.next=5,R.editMyCredentials({studentID:i,fullname:a,email:d,password:p});case 5:n=e.sent,n.status===b.a.Status.Successful&&(w("\u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0639\u0645\u0627\u0644 \u0634\u062f"),C(!1),I(!D)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),b.a.Status.isErrorExpected(e.t0)||S("\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0628\u0648\u062c\u0648\u062f \u0627\u0645\u062f ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f");case 13:f(""),C(!1);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(_e.a,{onSubmit:function(e){return L(e)},children:[Object(m.jsx)(se,{loading:k}),Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{className:"mt-3 text-center",xs:4,children:Object(m.jsx)(_e.a.Label,{className:"text-center",children:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631"})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(_e.a.Control,{type:"text",className:"account-info-textbox",pattern:"[\u0622-\u06cc ]{6,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0628\u0627\u06cc\u062f \u0628\u0627 \u062d\u0631\u0648\u0641 \u0641\u0627\u0631\u0633\u06cc \u0648 \u0628\u0627 \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0633\u0647 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f")},placeholder:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",value:a,required:"required",onChange:function(e){return n(e.target.value)}})})]}),Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{className:"mt-3 text-center",xs:4,children:Object(m.jsx)(_e.a.Label,{className:"text-center",children:"\u0627\u06cc\u0645\u06cc\u0644"})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(_e.a.Control,{type:"email",pattern:".{6,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0648\u0631\u0648\u062f\u06cc \u0628\u0627\u06cc\u062f \u0641\u0631\u0645\u062a \u0645\u0639\u062a\u0628\u0631 \u0627\u06cc\u0645\u06cc\u0644 \u0631\u0627 \u0631\u0639\u0627\u06cc\u062a \u06a9\u0631\u062f\u0647 \u0648 \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f")},className:"account-info-textbox text-left",placeholder:"E-mail",value:d,required:"required",onChange:function(e){return j(e.target.value)}})})]}),Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{className:"mt-3 text-center",xs:4,children:Object(m.jsx)(_e.a.Label,{className:"text-center",children:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc"})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(_e.a.Control,{type:"text",disabled:!0,className:"account-info-textbox text-left",placeholder:"Student ID",value:i})})]}),Object(m.jsx)(de.a.Footer,{className:"p-1 m-0 mt-4",children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{lg:2,md:2,sm:4,xs:4,children:Object(m.jsx)(_e.a.Label,{className:"text-center w-100 mt-3",children:"\u0631\u0645\u0632\u0639\u0628\u0648\u0631 \u0641\u0639\u0644\u06cc"})}),Object(m.jsx)(ee.a,{lg:7,md:7,sm:8,xs:8,children:Object(m.jsx)(_e.a.Control,{type:"password",className:"text-left account-info-textbox animated-textbox",placeholder:"Password",value:p,required:!0,onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u062c\u0647\u062a \u0627\u0639\u0645\u0627\u0644 \u0647\u0631 \u06af\u0648\u0646\u0647 \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0631 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062a\u0627\u0646 \u0628\u0627\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f")},onChange:function(e){return f(e.target.value)}})}),Object(m.jsx)(ee.a,{lg:3,md:3,sm:12,xs:12,children:Object(m.jsxs)(Q.a,{type:"submit",block:!0,variant:"success",className:"mt-2 animated-button",children:[Object(m.jsx)("i",{className:"fa fa-floppy-o px-2","aria-hidden":"true"}),"\u062b\u0628\u062a \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"]})})]})})]})},$e=function(){var e=Object(r.useState)(""),t=Object(h.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),s=Object(h.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(""),u=Object(h.a)(l,2),j=u[0],x=u[1],O=Object(r.useContext)(d),p=Object(r.useState)(""),f=Object(h.a)(p,2),y=f[0],N=f[1],k=function(){var e=Object(v.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!0),e.prev=2,e.next=5,R.changeMyPassword({password:a,newPassword:i});case 5:c=e.sent,c.status===b.a.Status.Successful&&(w("\u0631\u0645\u0632 \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0627\u062f\u0647 \u0634\u062f"),O.signOut()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),b.a.Status.isErrorExpected(e.t0)||S("\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0628\u0648\u062c\u0648\u062f \u0627\u0645\u062f ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f");case 13:n(""),N(!1);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(_e.a,{onSubmit:function(e){return k(e)},children:[Object(m.jsx)(se,{loading:y}),Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{className:"mt-3 text-center",xs:4,children:Object(m.jsx)(_e.a.Label,{className:"text-center",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f"})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(_e.a.Control,{type:"password",pattern:".{6,15}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0648 \u062d\u062f\u0627\u06a9\u062b\u0631 15 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f")},className:"account-info-textbox text-left animated-textbox",placeholder:"New Password",value:i,required:"required",onChange:function(e){return o(e.target.value)}})})]}),Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{className:"mt-3 text-center",xs:4,children:Object(m.jsx)(_e.a.Label,{className:"text-center",children:"\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f"})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(_e.a.Control,{type:"password",className:"account-info-textbox text-left animated-textbox",placeholder:"Confirm New Password",value:j,required:!0,onChange:function(e){return function(e){x(e.target.value),i!==e.target.value?e.target.setCustomValidity("\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f \u0628\u0627\u06cc\u062f \u0628\u0627 \u062e\u0648\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062c\u062f\u06cc\u062f \u0645\u0637\u0627\u0628\u0642\u062a \u06a9\u0627\u0645\u0644 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f"):e.target.setCustomValidity("")}(e)}})})]}),Object(m.jsx)(de.a.Footer,{className:"p-1 m-0  mt-4",children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{lg:2,md:2,sm:4,xs:4,children:Object(m.jsx)(_e.a.Label,{className:"text-center w-100 mt-3",children:"\u0631\u0645\u0632\u0639\u0628\u0648\u0631 \u0641\u0639\u0644\u06cc"})}),Object(m.jsx)(ee.a,{lg:7,md:7,sm:8,xs:8,children:Object(m.jsx)(_e.a.Control,{type:"password",className:"text-left account-info-textbox animated-textbox",placeholder:"Password",value:a,required:!0,onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u062c\u0647\u062a \u0627\u0639\u0645\u0627\u0644 \u0647\u0631 \u06af\u0648\u0646\u0647 \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0631 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062a\u0627\u0646 \u0628\u0627\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f")},onChange:function(e){return n(e.target.value)}})}),Object(m.jsx)(ee.a,{lg:3,md:3,sm:12,xs:12,children:Object(m.jsxs)(Q.a,{type:"submit",block:!0,variant:"success",className:"mt-2 animated-button",children:[Object(m.jsx)("i",{className:"fa fa-key px-2","aria-hidden":"true"}),"\u062a\u063a\u06cc\u06cc\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"]})})]})})]})},et=(a(142),function(e){var t=e.selector,a=Object(r.useState)(null),n=Object(h.a)(a,2),c=n[0],s=n[1],i=Object(l.d)((function(e){return e.me})),o=(i||{avatar:null}).avatar;Object(r.useEffect)((function(){s(o)}),[o]);return Object(m.jsxs)(_e.a.Group,{children:[Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{className:"text-center",sm:4,xs:4,md:3,lg:2,children:Object(m.jsx)(Se.a,{className:"friends-section-avatar",src:c,rounded:!0})}),Object(m.jsx)(ee.a,{className:"dropbox-rectangle",children:Object(m.jsx)(_e.a.Control,{className:"btn-outline-primary file-picker-control",type:"file",id:"filepicker",onChange:function(e){return function(e){try{t(e);var a=new FileReader;a.readAsDataURL(e),a.onload=function(e){s(e.target.result)}}catch(n){k("\u067e\u06cc\u0634 \u0646\u0645\u0627\u06cc\u0634 \u0641\u0627\u06cc\u0644 \u0627\u0646\u062a\u062e\u0627\u0628\u06cc \u0628\u0627 \u0645\u0634\u06a9\u0644 \u0631\u0648 \u0628\u0647 \u0631\u0648 \u0634\u062f.")}}(e.target.files[0])},accept:".jpg,.jpeg,.png",required:!0,onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0627\u0628\u062a\u062f\u0627 \u0639\u06a9\u0633 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0631\u0627 \u0627\u0632 \u0627\u06cc\u0646\u062c\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f")}})})]}),Object(m.jsx)(X.a,{children:Object(m.jsx)(_e.a.Label,{htmlFor:"filepicker",className:"btn-outline-primary file-picker-label animated-button",children:"\u0628\u0627 \u06a9\u0644\u06cc\u06a9 \u0631\u0648\u06cc \u0627\u06cc\u0646\u062c\u0627 \u0639\u06a9\u0633 \u062e\u0648\u062f \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f \u0648 \u06cc\u0627 \u0641\u0627\u06cc\u0644 \u0622\u0646 \u0631\u0627 \u0628\u06a9\u0634\u06cc\u062f \u0648 \u062f\u0631 \u0648\u0633\u0637 \u06a9\u0627\u062f\u0631 \u0633\u0628\u0632 \u0631\u0646\u06af \u0631\u0647\u0627 \u06a9\u0646\u06cc\u062f ..."})})]})}),tt=function(){var e=Object(r.useState)(""),t=Object(h.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(null),s=Object(h.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(""),u=Object(h.a)(l,2),d=u[0],j=u[1],x=function(){var e=Object(v.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),e.prev=2,e.next=5,R.uploadAvatar(a,i);case 5:c=e.sent,c.status===b.a.Status.Successful&&w("\u0622\u0648\u0627\u062a\u0627\u0631 \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0627\u062f\u0647 \u0634\u062f"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),b.a.Status.isErrorExpected(e.t0)||S("\u062e\u0637\u0627\u06cc\u06cc \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0628\u0648\u062c\u0648\u062f \u0627\u0645\u062f ... \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f");case 13:j(!1),n("");case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(_e.a,{onSubmit:function(e){return x(e)},children:[Object(m.jsx)(se,{loading:d}),Object(m.jsx)(et,{selector:o}),Object(m.jsx)(de.a.Footer,{className:"p-1 m-0  mt-4",children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{lg:2,md:2,sm:4,xs:4,children:Object(m.jsx)(_e.a.Label,{className:"text-center w-100 mt-3",children:"\u0631\u0645\u0632\u0639\u0628\u0648\u0631 \u0641\u0639\u0644\u06cc"})}),Object(m.jsx)(ee.a,{lg:7,md:7,sm:8,xs:8,children:Object(m.jsx)(_e.a.Control,{type:"password",className:"text-left account-info-textbox animated-textbox",placeholder:"Password",value:a,required:!0,onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u062c\u0647\u062a \u0627\u0639\u0645\u0627\u0644 \u0647\u0631 \u06af\u0648\u0646\u0647 \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0631 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062a\u0627\u0646 \u0628\u0627\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f")},onChange:function(e){return n(e.target.value)}})}),Object(m.jsx)(ee.a,{lg:3,md:3,sm:12,xs:12,children:Object(m.jsxs)(Q.a,{type:"submit",block:!0,variant:"success",className:"mt-2 animated-button",children:[Object(m.jsx)("i",{className:"fa fa-upload px-2","aria-hidden":"true"}),"\u062a\u063a\u06cc\u06cc\u0631 \u0622\u0648\u0627\u062a\u0627\u0631"]})})]})})]})},at=function(){var e=0,t=1,a=2;return Object(m.jsx)(de.a,{border:"secondary",bg:"transparent",className:"game-deck-card",children:Object(m.jsx)(de.a.Body,{children:Object(m.jsxs)(Qe.a,{defaultActiveKey:e,variant:"pills",className:"mb-3",children:[Object(m.jsxs)(je.a,{eventKey:e,title:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0645\u0634\u062e\u0635\u0627\u062a",children:[Object(m.jsx)("hr",{}),Object(m.jsx)(Ze,{})]}),Object(m.jsxs)(je.a,{eventKey:t,title:"\u0622\u0648\u0627\u062a\u0627\u0631",children:[Object(m.jsx)("hr",{}),Object(m.jsx)(tt,{})]}),Object(m.jsxs)(je.a,{eventKey:a,title:"\u062a\u063a\u06cc\u06cc\u0631 \u0631\u0645\u0632\u0639\u0628\u0648\u0631",children:[Object(m.jsx)("hr",{}),Object(m.jsx)($e,{})]})]})})})},nt=a(20),ct=a(22),rt=a(24),st=a(23),it=(a(91),a(69)),ot=function(e){Object(rt.a)(a,e);var t=Object(st.a)(a);function a(){var e;Object(nt.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={studentID:"",password:"",loading:!1},e.onSignInSubmitted=function(){var t=Object(v.a)(g.a.mark((function t(a){var n,c,r,s,i,o,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loading:!0}),n=e.state,c=n.studentID,r=n.password,s={studentID:Number(c),password:r},t.prev=4,t.next=7,R.signIn(s);case 7:i=t.sent,o=i.status,l=i.data,o===b.a.Status.Successful&&(j.browserStorage.save(l.token),e.props.history.replace("/")),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(4),console.log(t.t0),e.setState({password:""}),b.a.Status.isErrorExpected(t.t0)||S(".\u0648\u0631\u0648\u062f \u0628\u0627 \u0645\u0634\u06a9\u0644 \u0631\u0648 \u0628\u0647 \u0631\u0648 \u0634\u062f. \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u062a\u0646\u06cc\u062f.");case 18:e.setState({loading:!1});case 19:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(ct.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.studentID,n=t.password,c=t.loading;return Object(m.jsxs)(de.a,{border:"primary",className:"sign-in-sidebar animated-sidebar-intense",children:[Object(m.jsx)(de.a.Header,{border:"primary",className:"text-center text-primary",children:"\u0648\u0631\u0648\u062f \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"}),Object(m.jsx)(se,{loading:c}),Object(m.jsx)(de.a.Body,{className:"text-primary",children:Object(m.jsxs)(_e.a,{onSubmit:function(t){return e.onSignInSubmitted(t)},children:[Object(m.jsx)(_e.a.Control,{type:"text",autoComplete:"username",className:"sign-in-sidebar-textbox txt-shaking",placeholder:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc",value:a,onChange:function(t){return e.setState({studentID:t.target.value})}}),Object(m.jsx)("br",{}),Object(m.jsx)(_e.a.Control,{type:"password",autoComplete:"current-password",className:"sign-in-sidebar-textbox txt-shaking",placeholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",value:n,onChange:function(t){return e.setState({password:t.target.value})}}),Object(m.jsx)("hr",{}),Object(m.jsx)(X.a,{className:"justify-content-center my-3",children:Object(m.jsx)(it.a,{sitekey:"Your client site key"})}),Object(m.jsx)(de.a.Footer,{className:"bg-transparent border-primary",children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{className:"text-right",lg:6,children:Object(m.jsx)(Q.a,{type:"submit",variant:"success",className:"sign-in-sidebar-buttons animated-button",children:Object(m.jsx)("i",{className:"fa fa-sign-in px-3","aria-hidden":"true"})})}),Object(m.jsx)(ee.a,{lg:6,children:Object(m.jsx)(Q.a,{className:"sign-in-sidebar-buttons animated-button",variant:"warning",children:Object(m.jsx)("i",{className:"fa fa-recycle px-3","aria-hidden":"true"})})})]})})]})})]})}}]),a}(r.Component),lt=Object(p.f)(ot),ut=a(160),dt=function(){var e=Object(r.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){Object(v.a)(g.a.mark((function e(){var t,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n([{title:"\u062f\u0631\u062d\u0627\u0644 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc",text:"\u0644\u0637\u0641\u0627 \u06a9\u0645\u06cc \u0635\u0628\u0631 \u06a9\u0646\u06cc\u062f..."}]),e.next=4,qe.getShortNotices();case 4:t=e.sent,a=t.status,c=t.data,a===b.a.Status.Successful&&(c.notices.length?n(Object(oe.a)(c.notices.reverse())):n([{title:"\u067e\u06cc\u0627\u0645",text:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u062c\u062f\u06cc\u062f\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f."}])),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n([{title:"\u062e\u0637\u0627",text:"...\u0645\u0634\u06a9\u0644\u06cc \u062d\u06cc\u0646 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627 \u067e\u06cc\u0634 \u0622\u0645\u062f. \u062f\u0648\u0628\u0627\u0631\u0647 \u0627\u0645\u062a\u062d\u0627\u0646 \u06a9\u0646\u06cc\u062f"}]);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),Object(m.jsxs)(de.a,{className:"notice-sidebar animated-form",border:"success",children:[Object(m.jsx)(de.a.Header,{className:"text-center text-success",children:"\u0627\u0637\u0644\u0627\u0639\u06cc\u0647 \u0647\u0627"}),Object(m.jsx)(de.a.Body,{className:"text-right",children:Boolean(a.length)&&a.map((function(e){return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsxs)(Ue.a,{variant:"info",children:[Object(m.jsx)("i",{className:"fa fa-rss px-3","aria-hidden":"true"}),Object(m.jsx)("span",{style:{color:"red",fontSize:"18px"},children:e.title}),": ",e.text]}),Object(m.jsx)("hr",{})]},Object(ut.a)())}))})]})},jt=function(){var e=Object(l.d)((function(e){return e.statistics})),t=e.players,a=e.games;return Object(m.jsxs)(we.a,{className:"list-group list-group-flush",children:[Object(m.jsx)(we.a.Item,{className:"bg-transparent",children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{xs:8,children:Object(m.jsxs)(de.a.Text,{className:"w-100 text-right",children:[Object(m.jsx)("i",{className:"fa fa-wifi px-2","aria-hidden":"true"}),"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646 \u0622\u0646\u0644\u0627\u06cc\u0646"]})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(Ce.a,{className:"player-badge-font-size",variant:"info",pill:!0,children:t})})]})}),Object(m.jsx)(we.a.Item,{className:"bg-transparent",children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{xs:8,children:Object(m.jsxs)(de.a.Text,{className:"w-100 text-right",children:[Object(m.jsx)("i",{className:"fa fa-gamepad px-2","aria-hidden":"true"}),"\u0628\u0627\u0632\u06cc \u0647\u0627\u06cc \u062f\u0631\u062c\u0631\u06cc\u0627\u0646"]})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(Ce.a,{className:"player-badge-font-size",variant:"info",pill:!0,children:a})})]})})]})},bt=function(e){var t=e.friendID,a=Object(r.useState)(""),n=Object(h.a)(a,2),c=n[0],s=n[1],i=Object(l.d)((function(e){return e.message})),o=Object(l.c)(),u=Object(l.d)((function(e){return e.me}));return Object(m.jsxs)(_e.a,{onSubmit:function(e){return function(e){c&&(e.preventDefault(),o(ze(u.fullname,t,c)),s(""))}(e)},children:[Object(m.jsx)(X.a,{className:"w-100 mt-3 mx-auto",children:Object(m.jsx)(Ue.a,{className:"w-100 text-right",variant:"info",children:i&&i.recieved?i.recieved.text:Object(m.jsx)("p",{className:"p-1",children:" "})})}),Object(m.jsxs)(X.a,{className:"w-100 p-0 m-0",children:[Object(m.jsx)(ee.a,{lg:2,md:3,className:"m-0 p-0 text-center",children:Object(m.jsx)(Q.a,{type:"submit",className:"w-100 mx-auto",variant:"outline-info",children:Object(m.jsx)("i",{className:"fa fa-paper-plane","aria-hidden":"true"})})}),Object(m.jsx)(ee.a,{lg:10,md:9,className:"m-0 p-0 w-100",children:Object(m.jsx)(_e.a.Control,{className:"p-0 w-100 bg-transparent chat-room-message-box\r mx-auto text-right",value:c,onChange:function(e){return s(e.target.value)},placeholder:"\u067e\u06cc\u0627\u0645..."})})]})]})},mt=function(e){var t=Object(l.d)((function(e){return e.me})),a=Object(l.d)((function(e){return e.scoreboard})),n=Object(l.d)((function(e){return e.tools})),c=Object(l.c)(),s=Object(r.useState)(!1),i=Object(h.a)(s,2),o=i[0],u=i[1],d=e.person?e.person:t,x=d.fullname,O=d.userID,p=d.records,f=d.avatar,y=Object(r.useState)(null),N=Object(h.a)(y,2),w=N[0],k=N[1],C=t&&O===t.userID;Object(r.useEffect)((function(){k(C?a.me:a.opp)}),[C,a]);var E=n.recordReloadTrigger;Object(r.useEffect)((function(){C||Object(v.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.isMyFriend(O);case 3:t=e.sent,a=t.status,n=t.data,a===b.a.Status.Successful&&u(n.isFriend),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),j.Status.isErrorExpected(e.t0)||S("\u0628\u0631\u0642\u0631\u0627\u0631\u06cc \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0645\u06cc\u0632 \u0646\u0628\u0648\u062f.\u0644\u0637\u0641\u0627 \u0627\u0632 \u0627\u0631\u062a\u0628\u0627\u0637 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a\u06cc \u062e\u0648\u062f \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u062d\u0627\u0635\u0644 \u06a9\u0646\u06cc\u062f."),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[O,C,E]);var T=function(e){var t;e.target.innerHTML="\u0627\u0631\u0633\u0627\u0644 \u0634\u062f...",e.target.disabled=!0,c((t=O,function(){var e=Object(v.a)(g.a.mark((function e(a,n){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=Object(Te.a)({},n().tools)).friendRequestTarget=t,e.next=4,a({type:"UPDATE_TOOLS",payload:c});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()))};return Object(m.jsxs)(de.a,{border:"info",className:"player-info-sidebar animated-form",children:[Object(m.jsxs)(de.a.Header,{className:"text-center text-info form-inline",children:[Object(m.jsx)(ee.a,{children:Object(m.jsx)(de.a.Text,{className:"text-left",children:x})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(Se.a,{className:"player-avatar",src:f,roundedCircle:!0})})]}),Object(m.jsx)(de.a.Body,{children:Object(m.jsxs)(we.a,{className:"list-group list-group-flush",children:[w&&Object(m.jsx)(we.a.Item,{children:Object(m.jsx)(Ue.a,{variant:w.index?"danger":"primary",children:Object(m.jsxs)(Ue.a.Heading,{className:"text-center",children:[w.score," : ",w.shape]})})}),Object(m.jsx)(Ee,{small:!0,title:"\u0627\u0645\u062a\u06cc\u0627\u0632 \u0628\u0627\u0632\u06cc\u06a9\u0646",children:p.points}),Object(m.jsx)(Ee,{small:!0,title:"\u062a\u0639\u062f\u0627\u062f \u0628\u0631\u062f\u0647\u0627",children:p.wins}),Object(m.jsx)(Ee,{small:!0,title:"\u062a\u0639\u062f\u0627\u062f \u062a\u0633\u0627\u0648\u06cc",children:p.draws}),Object(m.jsx)(Ee,{small:!0,title:"\u062a\u0639\u062f\u0627\u062f \u0628\u0627\u062e\u062a \u0647\u0627",children:p.loses})]})}),Object(m.jsx)(de.a.Footer,{children:C?Object(m.jsx)(jt,{}):o?Object(m.jsx)(bt,{friendID:O}):Object(m.jsxs)(Q.a,{variant:"outline-info",block:!0,onClick:function(e){return T(e)},children:[Object(m.jsx)("i",{className:"fa fa-handshake-o px-2","aria-hidden":"true"}),"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062f\u0648\u0633\u062a\u06cc"]})})]})},xt=Object(p.f)((function(e){var t=Object(r.useContext)(d),a=e.location.pathname,n=Object(l.d)((function(e){return e.me})),c=Object(l.d)((function(e){return e.opponent})),s=Object(r.useState)(null),o=Object(h.a)(s,2),u=o[0],b=o[1],x=Object(r.useState)(null),O=Object(h.a)(x,2),p=O[0],f=O[1],g=t.device;return Object(r.useEffect)((function(){b(Object(m.jsx)(dt,{}));var e=function(){f(n?Object(m.jsx)(mt,{}):Object(m.jsx)(lt,{}))};a===j.Routes.Client.SignUp?(f(null),b(null)):a===j.Routes.Client.GameDeck?(e(),c&&(g!==j.Devices.SmartPhone?b(Object(m.jsx)(mt,{person:c})):(b(null),f(null)))):(b(Object(m.jsx)(dt,{})),e())}),[n,c,a,g]),Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(te,{}),t.device!==j.Devices.SmartPhone?Object(m.jsxs)(X.a,{className:"w-100 mx-auto p-0",children:[t.device===j.Devices.Desktop&&Object(m.jsx)(ee.a,{lg:3,children:p}),Object(m.jsx)(ee.a,{className:"mx-auto",lg:a!==j.Routes.Client.SignUp?null:7,children:e.children}),u&&Object(m.jsxs)(ee.a,{className:"p-0 pl-2",lg:3,md:4,children:[t.device===j.Devices.Tablet&&p,u]})]}):Object(m.jsxs)(i.a,{children:[n?Object(m.jsx)(X.a,{className:"w-100 mx-auto",children:p}):null,Object(m.jsx)(X.a,{className:"w-100 mx-auto",children:u}),Object(m.jsx)(X.a,{className:"w-100 mx-auto",children:e.children})]})]})})),ht=(a(92),function(e,t,a){return JSON.stringify({request:e,rname:t,token:j.browserStorage.TOKEN(),msg:a})}),Ot=function(e){return new Promise((function(t,a){var n=new WebSocket("".concat(j.Routes.Server.WebSocketRoot,"/").concat(j.Routes.Server.wsGamePlayRoute));n.onopen=function(){n.send(ht("join",e.name,{gameType:e.type,scoreless:e.scoreless})),t(n)},n.onerror=function(e){n.close(),a(e)},n.onclose=function(){t(null)}}))};var pt=function(e){return Object(l.b)((function(e){return{me:e.me,opponent:e.opponent,room:e.room,scoreboard:e.scoreboard,tools:e.tools,game:e.game}}),(function(e){return{LoadThisPlayer:function(t){return e(L(t))},EnterRoom:function(t){return e(F(t))},UpdateScoreboard:function(t){return e(function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({type:"UPDATE_SCOREBOARD",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},RegisterMultiplayer:function(t){return e(function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=4;break}return t.next=4,a({type:"REGISTER_GAME",payload:{multy:!0,gameID:e}});case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),console.log(t.t0),t.next=11,a({type:"RESET_GAME"});case 11:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},CloseOngoingGame:function(){return e(V())},RegisterSinglePlayer:function(t,a,n){return e(q(t,a,n))}}}))(e)},ft=function(e){var t=e.timeRemaining,a=e.players,n=e.turn,c=Object(r.useState)(null),s=Object(h.a)(c,2),i=s[0],o=s[1],l=A.TurnTimeOut/3;return Object(r.useEffect)((function(){var e=null,c=null;t?t>=l?(e="text-success",c=Object(m.jsx)("i",{className:"fa fa-hourglass-start px-2","aria-hidden":"true"})):(e="text-danger",c=Object(m.jsx)("i",{className:"fa fa-hourglass-half px-2","aria-hidden":"true"})):(e="text-dark",c=Object(m.jsx)("i",{className:"fa fa-hourglass-end px-2","aria-hidden":"true"})),o(Object(m.jsxs)("div",{className:e,children:[c,t," : ",a[n].shape]}))}),[t,l,a,n]),Object(m.jsx)(de.a.Header,{className:"w-100 text-center",children:Object(m.jsxs)(X.a,{style:{fontSize:"20px"},children:[Object(m.jsxs)(ee.a,{style:{textAlign:"right",color:a[1].color},children:[a[1].shape," : ",a[1].score]}),Object(m.jsx)(ee.a,{children:i}),Object(m.jsxs)(ee.a,{style:{textAlign:"left",color:a[0].color},children:[a[0].score," : ",a[0].shape]})]})})},gt=function(e){for(var t=e.timeRemaining,a=e.dimension,n=e.players,c=e.table,s=e.turn,i=e.onEachCellClick,o=[],l=Object(r.useState)(null),u=Object(h.a)(l,2),d=u[0],j=u[1],b=0;b<a;b++)o.push(b);return Object(r.useEffect)((function(){for(var e=[70,65,60,55,50,45,40,35,30,25],t=[45,40,35,30,29,28],n=window.innerWidth,c=window.innerHeight,r=e[e.length-1],s=t[t.length-1],i=t[t.length-1],o=0,l=t;o<l.length;o++){var u=l[o];if(u*a*a<=.75*c){i=s=u;break}}for(var d=0,b=e;d<b.length;d++){var m=b[d];if((m+i)*(a+1)<=n){r=m;break}}j({width:r,height:s,margin:i,fontSize:s<30||r<40?15:s<40||r<60?20:25})}),[a]),Object(m.jsxs)(de.a,{bg:"transparent",border:"dark",className:"w-100 mt-2 mx-auto",children:[Object(m.jsx)(ft,{timeRemaining:t,turn:s,players:n}),Object(m.jsx)(de.a.Body,{className:"game-border-card",children:c&&d?o.map((function(e){return Object(m.jsxs)(r.Fragment,{children:[o.map((function(t){return Object(m.jsx)(X.a,{style:{direction:"ltr",marginLeft:"".concat(d.margin*t,"px")},children:o.map((function(r){return Object(m.jsx)(Q.a,{variant:"border-dark",className:"game-table-cells",style:{width:"".concat(d.width,"px"),height:"".concat(d.height,"px"),fontSize:"".concat(d.fontSize,"px"),color:c[e][t][r]?n[c[e][t][r]-1].color:null},id:e*a*a+t*a+r,onClick:function(e){return i(e)},children:c[e][t][r]&&n[c[e][t][r]-1].shape},e*a*a+t*a+r)}))})})),Object(m.jsx)("br",{})]})})):Object(m.jsx)("p",{className:"text-center",children:" \u062f\u0631 \u062d\u0627\u0644 \u0627\u062a\u0635\u0627\u0644... "})})]})},vt=function(e){Object(rt.a)(a,e);var t=Object(st.a)(a);function a(){var e;return Object(nt.a)(this,a),(e=t.call(this)).state={players:[{shape:Object(m.jsx)("i",{className:"fa fa-times","aria-hidden":"true"}),text:"X",color:"blue",lineColor:"primary",score:0},{shape:Object(m.jsx)("i",{className:"fa fa-sun-o","aria-hidden":"true"}),text:"O",color:"darkred",lineColor:"danger",score:0}],turn:0,dimension:3,table:null,myTurn:void 0,socketGamePlay:void 0,playerOnline:!0,timeRemaining:0,deadlineID:null,connectionCheckTimerID:null},e.updateGameScorebaord=function(){var t=e.state,a=t.myTurn,n=t.players,c=Number(!a);e.props.UpdateScoreboard({me:{index:a,shape:n[a].shape,score:n[a].score},opp:{index:c,shape:n[c].shape,score:n[c].score}})},e.synchronizeDeadline=function(t){var a=A.TurnTimeOut-(Date.now()-t)/1e3;e.setState({timeRemaining:Math.floor(a)}),e.state.deadlineID&&clearInterval(e.state.deadlineID);var n=setInterval((function(){var t=e.state,a=t.timeRemaining,n=t.deadlineID;if(a>0)e.setState({timeRemaining:a-1});else{var c=e.state.socketGamePlay,r=e.props.room;clearInterval(n),e.setState({deadlineID:null}),c.send(ht("ban_move",r.name,null))}}),1e3);e.setState({deadlineID:n})},e.updatePlayerStates=function(t){var a=t.turn,n=t.xScore,c=t.oScore,r=Object(oe.a)(e.state.players);r[0].score=n,r[1].score=c,e.setState({players:r,turn:a}),e.updateGameScorebaord()},e.disableAllTimers=function(){var t=e.state,a=t.connectionCheckTimerID,n=t.deadlineID;clearTimeout(a),clearTimeout(n)},e.socketOnMessage=function(t){var a=t.data,n=JSON.parse(a),c=n.cmd,r=n.msg,s=e.props.surrender;if(e.props.location.pathname===j.Routes.Client.GameDeck)if("START"===c){var i=ve(r),o=e.state,l=o.players,u=o.myTurn;s||(k("\u0628\u0627\u0632\u06cc \u0631\u0627\u0633 \u0633\u0627\u0639\u062a ".concat(i," \u0622\u063a\u0627\u0632 \u0634\u062f.")),C("\u0645\u0647\u0631\u0647 \u06cc \u0634\u0645\u0627: ".concat(l[u].text)))}else if("REMEMBER"===c){var d=r.IDs,b=r.dimension,m=r.myTurn,x=r.gameID;e.setState({dimension:b,myTurn:m});var h=e.props,O=h.opponent,p=h.LoadThisPlayer,f=h.game,g=h.RegisterMultiplayer,v=d[Number(!m)];s||(!O&&v&&p(v),!f&&x&&g(x))}else if("LOAD"===c){e.updatePlayerStates(r);var y=r.table,N=r.t0;e.setState({table:y}),e.updatePlayerStates(r),e.updateGameScorebaord(),e.synchronizeDeadline(N)}else if(e.state.table)if("SCORES"===c)e.updatePlayerStates(r);else if("UPDATE"===c){var S=e.props,w=S.room,E=S.me,T=e.state.dimension,R=r.newMove,D=r.t0,I=Number(R.cellIndex);e.verifyAndApplyTheMove(_(I,T),e.cellButtons[I]),e.updatePlayerStates(R),e.cellButtons[I].focus(),e.updateGameScorebaord(),R.madeBy!==E.userID&&e.state.socketGamePlay.send(ht("move_recieved",w.name,!0)),e.synchronizeDeadline(D)}else if("MOVE_MISSED"===c){var L=r.turn,P=r.t0;e.setState({turn:L}),e.synchronizeDeadline(P)}else if("NOT_AUTHORIZED"===c)C("\u0644\u0637\u0641\u0627 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0634\u0648\u06cc\u062f");else if("END"===c)e.updatePlayerStates(r),U(e.state,e.onCloseGame),e.disableAllTimers();else if("CLOSE"===c)C("\u0628\u062f\u0644\u06cc\u0644 \u062d\u0627\u0636\u0631 \u0646\u0628\u0648\u062f\u0646 \u0647\u06cc\u0686 \u06a9\u062f\u0627\u0645 \u0627\u0632 \u0628\u0627\u0632\u06cc\u06a9\u06cc\u0646\u0627\u0646\u060c \u0628\u0627\u0632\u06cc \u0634\u0645\u0627 \u06a9\u0646\u0633\u0644 \u0634\u062f"),e.onCloseGame();else if("REGISTER_GAME"===c){var A=r.gameID;A&&e.props.RegisterMultiplayer(A)}else console.log("wrong socket request")},e.forceConnectWS=function(){var t=Object(v.a)(g.a.mark((function t(a){var n,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.room,t.prev=1,t.next=4,Ot(n);case 4:(c=t.sent).onmessage=e.socketOnMessage,e.setState({socketGamePlay:c}),a&&a(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),setTimeout((function(){console.log("rconnecting from GamePlay"),e.forceConnectWS(a)}),3e3);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),e.enableConnectionCheckTimer=function(){return setInterval((function(){window.navigator.onLine?e.state.playerOnline||(e.setState({playerOnline:!0}),e.forceConnectWS(null)):e.state.playerOnline&&e.setState({playerOnline:!1})}),2500)},e.loadCurrentGame=function(){var t=e.props,a=t.room,n=t.surrender;console.log(a),e.forceConnectWS((function(){e.state.socketGamePlay.send(ht("load",a.name,null)),n&&e.state.socketGamePlay.send(ht("surrender",a.name,!0))}))},e.onEachCellClick=function(t){var a=e.state,n=a.dimension,c=a.turn,r=a.myTurn,s=e.props,i=s.opponent,o=s.room;if(i&&c===r)try{var l=t.target,u=_(l.id,n);console.log(l.id,u),e.verifyAndApplyTheMove(u,l)&&e.state.socketGamePlay.send(ht("move",o.name,l.id))}catch(d){console.log(d)}},e.verifyAndApplyTheMove=function(t,a){var n=e.state.turn;console.log(e.state.table);var c=Object(oe.a)(e.state.table);return null===c[t.floor][t.row][t.column]&&(c[t.floor][t.row][t.column]=n+1,e.setState({table:c}),a.style.opacity=0,setTimeout((function(){a.className="game-table-cells player-".concat(n?"o":"x","-cell animate-new-move"),a.style.opacity=1}),100),B(t,e.state,e.connectScoreLines),!0)},e.connectScoreLines=function(t,a,n){for(var c=e.state,r=c.dimension,s=c.turn,i=c.players,o=e.props.room,l=function(c){e.cellButtons[t+c*a].className="game-table-cells btn btn-".concat(i[n].lineColor),!o.scoreless&&setTimeout((function(){e.cellButtons[t+c*a].className="game-table-cells player-".concat(s?"o":"x","-cell")}),1e3+100*c)},u=0;u<r;u++)l(u)},e.onCloseGame=function(){e.state.socketGamePlay.close(),e.setState({socketGamePlay:null}),setTimeout((function(){e.props.CloseOngoingGame(),e.props.history.replace("/")}),3e3)},e.cellButtons=[],e}return Object(ct.a)(a,[{key:"componentDidMount",value:function(){this.cellButtons=document.getElementsByClassName("game-table-cells");var e=this.props.room;this.setState({dimension:e.type}),this.loadCurrentGame(),this.setState({connectionCheckTimerID:this.enableConnectionCheckTimer()})}},{key:"componentWillUnmount",value:function(){this.disableAllTimers()}},{key:"render",value:function(){return Object(m.jsx)(gt,{dimension:this.state.dimension,players:this.state.players,table:this.state.table,turn:this.state.turn,timeRemaining:this.state.timeRemaining,onEachCellClick:this.onEachCellClick})}}]),a}(r.Component),yt=Object(p.f)(pt(vt)),Nt=function(){var e=Object(r.useState)(4),t=Object(h.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(h.a)(c,2),i=s[0],o=s[1],u=Object(l.d)((function(e){return e.me})),b=Object(r.useState)(!1),x=Object(h.a)(b,2),O=x[0],p=x[1],f=Object(r.useContext)(d),g=Object(l.c)(),v=Object(l.d)((function(e){return e.tools})),y=Object(l.d)((function(e){return e.room})),N=v.randomSearchRepeats;return Object(r.useEffect)((function(){O&&(y.name?(w("\u06cc\u06a9 \u062d\u0631\u06cc\u0641 \u062a\u0635\u0627\u062f\u0641\u06cc \u067e\u06cc\u062f\u0627 \u0634\u062f ... \u062f\u0631 \u0635\u0648\u0631\u062a \u062a\u0627\u06cc\u06cc\u062f \u0647\u0631 \u062f\u0648 \u0637\u0631\u0641 \u0628\u0627\u0632\u06cc \u0622\u063a\u0627\u0632 \u062e\u0648\u0627\u0647\u062f \u0634\u062f."),p(!1)):N||(k("\u062d\u0631\u06cc\u0641\u06cc \u067e\u06cc\u062f\u0627 \u0646\u0634\u062f ... \u0644\u062d\u0638\u0627\u062a\u06cc \u062f\u06cc\u06af\u0631 \u0645\u062c\u062f\u062f\u0627 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f"),p(!1)))}),[O,y.name,N]),Object(r.useEffect)((function(){return function(){p(!1),g(De())}}),[g]),Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(se,{loading:O}),Object(m.jsx)("hr",{}),Object(m.jsxs)(_e.a,{onSubmit:function(e){return function(e){e.preventDefault(),u?(g(F({name:null,type:a,scoreless:i})),g(Re()),p(!0)):(C("\u0627\u0628\u062a\u062f\u0627 \u0628\u0627\u06cc\u062f \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0634\u0648\u06cc\u062f"),f.goTo(j.Routes.Client.SignUp))}(e)},children:[Object(m.jsxs)(_e.a.Group,{className:"form-inline",children:[Object(m.jsx)(_e.a.Label,{className:"pb-2 w-25",children:"\u0646\u0648\u0639 \u0628\u0627\u0632\u06cc"}),Object(m.jsxs)(ke.a,{style:{border:"1px solid orange",borderRadius:"5px",padding:"2%"},children:[Object(m.jsxs)(ke.a.Prepend,{className:"mx-3",children:[Object(m.jsx)(ke.a.Radio,{value:"0",name:"scoreless",checked:!i,onChange:function(){return o(!1)}}),Object(m.jsx)(ke.a.Text,{children:"\u0627\u0645\u062a\u06cc\u0627\u0632\u06cc"})]}),Object(m.jsxs)(ke.a.Prepend,{className:"mx-3",children:[Object(m.jsx)(ke.a.Radio,{value:"1",name:"scoreless",checked:i,onChange:function(){return o(!0)}}),Object(m.jsx)(ke.a.Text,{children:"\u0633\u0631\u0639\u062a\u06cc"})]})]})]}),Object(m.jsxs)(_e.a.Group,{className:"form-inline",children:[Object(m.jsx)(_e.a.Label,{className:"pb-2 w-25",children:"\u0627\u0628\u0639\u0627\u062f \u062c\u062f\u0648\u0644"}),Object(m.jsxs)(ke.a,{style:{border:"1px solid orange",borderRadius:"5px",padding:"2%"},children:[Object(m.jsxs)(ke.a.Prepend,{className:"mx-3",children:[Object(m.jsx)(ke.a.Radio,{value:"3",name:"tableDimension",checked:3===a,onChange:function(){return n(3)}}),Object(m.jsx)(ke.a.Text,{children:"3 * 3 * 3"})]}),Object(m.jsxs)(ke.a.Prepend,{className:"mx-3",children:[Object(m.jsx)(ke.a.Radio,{value:"4",name:"tableDimension",checked:4===a,onChange:function(){return n(4)}}),Object(m.jsx)(ke.a.Text,{children:"4 * 4 * 4"})]}),Object(m.jsxs)(ke.a.Prepend,{className:"mx-3",children:[Object(m.jsx)(ke.a.Radio,{value:"5",name:"tableDimension",checked:5===a,onChange:function(){return n(5)}}),Object(m.jsx)(ke.a.Text,{children:"5 * 5 * 5"})]})]})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(Q.a,{type:"submit",className:"mt-4 animated-button",block:!0,variant:"success",children:[Object(m.jsx)("i",{className:"fa fa-search px-2","aria-hidden":"true"}),"\u062c\u0633\u062a\u062c\u0648"]})]})]})},St=(a(144),a(157)),wt=function(e){var t=e.contesters,a=Object(r.useState)(!1),n=Object(h.a)(a,2),c=n[0],s=n[1];return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(Q.a,{block:!0,onClick:function(){return s(!0)},variant:"outline-secondary",children:"\u0628\u0627\u0632\u06cc\u06a9\u0646\u0627\u0646 \u062d\u0627\u0636\u0631"}),Object(m.jsxs)(St.a,{show:c,onHide:function(){return s(!1)},children:[Object(m.jsx)(St.a.Header,{closeButton:!0}),Object(m.jsx)(St.a.Body,{children:Object(m.jsxs)(i.a,{children:[t&&t.map((function(e){return Object(m.jsx)(X.a,{className:" mx-auto text-center animated-button",children:Object(m.jsx)(Ue.a,{className:"w-100 mx-auto text-center",variant:"secondary",children:e.fullname})})})),Object(m.jsx)(X.a,{children:Object(m.jsxs)(Q.a,{type:"submit",block:!0,className:"text-center animated-button",onClick:function(){return s(!1)},variant:"outline-danger",children:["\u0628\u0633\u062a\u0646",Object(m.jsx)("i",{className:"fa fa-sign-in px-2","aria-hidden":"true"})]})})]})})]})]})},kt=function(e){var t=e.league,a=e.reload,n=Object(r.useState)(!1),c=Object(h.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(!1),l=Object(h.a)(o,2),u=l[0],b=l[1],x=Object(r.useContext)(d),O=function(){var e=Object(v.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.joinLeague(t.leagueID);case 3:n=e.sent,n.status===j.Status.Successful&&(w(" \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0628\u0647 \u0644\u06cc\u06af ".concat(t.title," \u0645\u0644\u062d\u0642 \u0634\u062f\u06cc\u062f.")),a()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0.response.status===j.Status.MethodNotAllowed?S("\u067e\u06cc\u0648\u0633\u062a\u0646 \u0628\u0647 \u0627\u06cc\u0646 \u0644\u06cc\u06af \u0645\u062c\u0627\u0632 \u0646\u06cc\u0633\u062a. \u0638\u0631\u0641\u06cc\u062a \u0627\u06cc\u0646 \u0644\u06cc\u06af \u062a\u06a9\u0645\u06cc\u0644 \u0634\u062f\u0647 \u0627\u0633\u062a."):j.Status.isErrorExpected(e.t0)||S("\u062e\u0637\u0627 \u062f\u0631 \u0628\u0631\u0642\u0631\u0627\u0631\u06cc \u0627\u0631\u062a\u0628\u0627\u0637 ... \u0644\u0637\u0641\u0627 \u0627\u0631\u062a\u0628\u0627\u0637 \u062e\u0648\u062f \u0631\u0627 \u0628\u0627 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f.");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){t&&t.contesters&&t.contesters.length===t.capacity&&t.started&&b(!0)}),[t]),Object(m.jsxs)("div",{className:"bg-transparent single-league-card border-".concat(["dark","primary","success","warning"][t.Mode]),children:[Object(m.jsxs)(de.a.Body,{onClick:function(e){return i(!s)},className:"expand-opacity-animation",children:[Object(m.jsx)(de.a.Title,{className:"text-center",children:t.title}),Object(m.jsx)("hr",{}),!s&&Object(m.jsx)(de.a.Text,{className:"league-description-text text-right",children:["\u0628\u0635\u0648\u0631\u062a \u062a\u0635\u0627\u062f\u0641\u06cc \u062a\u0645\u0627\u0645\u06cc \u0628\u0627\u0632\u06cc\u06a9\u0646\u0627\u0646 \u0628\u0627 \u0647\u0645 \u0645\u0633\u0627\u0628\u0642\u0647 \u0645\u06cc \u062f\u0647\u0646\u062f \u0648 \u0628\u0627\u0632\u0646\u062f\u0647 \u06cc \u0647\u0631 \u0628\u0627\u0632\u06cc \u0627\u0632 \u062c\u0627\u0645 \u062d\u0630\u0641 \u0634\u062f\u0647 \u0648 \u0628\u0631\u0646\u062f\u0647 \u0628\u0647 \u0645\u0631\u062d\u0644\u0647 \u06cc \u0628\u0639\u062f \u0635\u0639\u0648\u062f \u0645\u06cc \u06a9\u0646\u062f. \u0642\u0647\u0631\u0645\u0627\u0646 \u0627\u06cc\u0646 \u062c\u0627\u0645 \u0641\u0631\u062f\u06cc \u0627\u0633\u062a \u06a9\u0647 \u062a\u0645\u0627\u0645\u06cc \u062d\u0631\u06cc\u0641\u0627\u0646\u0634 \u0631\u0627 \u0634\u06a9\u0633\u062a \u062f\u0647\u062f.","\u0647\u0631 \u0628\u0627\u0632\u06cc\u06a9\u0646\u060c \u0628\u0627 \u062a\u0645\u0627\u0645\u06cc \u0628\u0627\u0632\u06cc\u06a9\u0646\u0627\u0646 \u062f\u06cc\u06af\u0631\u060c \u0628\u0627\u0632\u06cc \u0645\u0633\u062a\u0642\u0644 \u06a9\u0631\u062f\u0647 \u0648 \u0628\u0633\u062a\u0647 \u0628\u0647 \u0646\u062a\u06cc\u062c\u0647 \u0627\u06cc \u06a9\u0647 \u06a9\u0633\u0628 \u0645\u06cc \u06a9\u0646\u0646\u062f \u0627\u0645\u062a\u06cc\u0627\u0632\u0627\u062a\u06cc \u06a9\u0633\u0628 \u0645\u06cc \u06a9\u0646\u0646\u062f. \u0642\u0647\u0631\u0645\u0627\u0646 \u0627\u06cc\u0646 \u06a9\u0633\u0627\u0628\u0642\u0627\u062a\u060c \u0628\u0627\u0632\u06cc\u06a9\u0646\u06cc \u0627\u0633\u062a \u06a9\u0647 \u062f\u0631 \u062c\u062f\u0648\u0644 \u0631\u062f\u0647 \u0628\u0646\u062f\u06cc \u0646\u0641\u0631 \u0627\u0648\u0644 \u0628\u0627\u0634\u062f.","\u0627\u06cc\u0646 \u0645\u0633\u0627\u0628\u0642\u0647\u060c \u062a\u0631\u06a9\u06cc\u0628\u06cc \u0627\u0632 \u062c\u0627\u0645 \u062d\u0630\u0641\u06cc \u0648 \u0644\u06cc\u06af \u0627\u0635\u0644\u06cc \u0627\u0633\u062a. \u062f\u0631 \u062f\u0648\u0631 \u0645\u0642\u062f\u0645\u0627\u062a\u06cc\u060c \u0628\u0627\u0632\u06cc\u06a9\u0646\u0627\u0646 \u062f\u0631 \u06af\u0631\u0648\u0647 \u0628\u0646\u062f\u06cc \u0627\u062e\u062a\u0635\u0627\u0635 \u06cc\u0627\u0641\u062a\u0647 \u06cc \u062e\u0648\u062f\u060c \u0631\u0642\u0627\u0628\u062a \u0645\u06cc \u06a9\u0646\u0646\u062f. \u0646\u0641\u0631 \u0627\u0648\u0644 \u0648 \u062f\u0648\u0645 \u0647\u0631 \u06af\u0631\u0648\u0647 \u0628\u0647 \u062f\u0648\u0631 \u062f\u0648\u0645 \u0627\u06cc\u0646 \u0645\u0633\u0627\u0628\u0642\u0627\u062a \u06a9\u0647 \u0645\u0627\u0647\u06cc\u062a \u062d\u0630\u0641\u06cc \u062f\u0627\u0631\u062f \u0635\u0639\u0648\u062f \u0645\u06cc \u06a9\u0646\u0646\u062f."][t.Mode]}),s&&Object(m.jsxs)(Ue.a,{className:"text-right w-100",pill:"true",variant:"info",children:[Object(m.jsxs)("span",{className:"text-center",children:["\u0638\u0631\u0641\u06cc\u062a :",Object(m.jsx)(Ce.a,{style:{fontSize:"16px"},className:"mx-2 p-2",variant:"primary",pill:!0,children:t.capacity}),"\u0646\u0641\u0631"]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("span",{className:"text-center",children:["\u062c\u0627\u06cc\u0632\u0647 \u0646\u0641\u0631 \u0627\u0648\u0644 :",Object(m.jsx)(Ce.a,{style:{fontSize:"16px"},className:"mx-2 p-2",variant:"primary",pill:!0,children:t.prize}),"\u0627\u0645\u062a\u06cc\u0627\u0632"]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("span",{className:"text-center",children:["\u062a\u0639\u062f\u0627\u062f \u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646 :",Object(m.jsx)(Ce.a,{style:{fontSize:"16px"},className:"mx-2 p-2",variant:"primary",pill:!0,children:t.contesters.length}),"\u0646\u0641\u0631"]})]})]}),s&&Object(m.jsx)(de.a.Footer,{children:u?Object(m.jsx)(X.a,{children:Object(m.jsx)(Q.a,{block:!0,className:"animated-button",variant:"primary",onClick:function(){x.openLeaguePage(t.leagueID)},children:"\u0648\u0631\u0648\u062f \u0628\u0647 \u0644\u06cc\u06af"})}):Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{children:Object(m.jsx)(Q.a,{block:!0,variant:"outline-success",onClick:O,children:"\u067e\u06cc\u0648\u0633\u062a\u0646"})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(wt,{contesters:t.contesters})})]})})]})},Ct=function(){var e=Object(r.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(h.a)(c,2),o=s[0],l=s[1];return Object(r.useEffect)((function(){Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.listLeagues();case 3:t=e.sent,a=t.data,t.status===j.Status.Successful&&n(Object(oe.a)(a.leagues)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),j.Status.isErrorExpected(e.t0)||S("\u062e\u0637\u0627 \u062f\u0631 \u0628\u0631\u0642\u0631\u0627\u0631\u06cc \u0627\u0631\u062a\u0628\u0627\u0637 ... \u0644\u0637\u0641\u0627 \u0627\u0631\u062a\u0628\u0627\u0637 \u062e\u0648\u062f \u0631\u0627 \u0628\u0627 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[o]),Object(m.jsxs)(i.a,{children:[Object(m.jsx)("hr",{}),a.length?Object(m.jsx)(X.a,{children:a.map((function(e){return Object(m.jsx)(ee.a,{className:"mb-5",lg:6,md:6,sm:12,xs:12,children:Object(m.jsx)(kt,{reload:function(){return l(!o)},league:e})})}))}):Object(m.jsx)(be,{children:"\u062f\u0631 \u062d\u0627\u0644 \u062d\u0627\u0636\u0631 \u0644\u06cc\u06af\u06cc \u0628\u0631\u06af\u0632\u0627\u0631 \u0646\u0645\u06cc \u06af\u0631\u062f\u062f"})]})},Et=a(100),Tt=function e(t,a){var n=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.LEVELS.Ordinary,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;Object(nt.a)(this,e),this.update=function(e,t){n.moves.unshift(Object(Te.a)(Object(Te.a)({},e),{},{by:t})),n.table[e.floor][e.row][e.column]=t+1,n.weigh(e)},this.weigh=function(e){var t=e.floor,a=e.row,c=e.column,r=n.table[t][a][c],s=n.turn+1===r?-1:1;n.weights[t][a][c]=s*((n.dimension+1)*(n.dimension+1)*(n.dimension+1));for(var i=0;i<n.dimension;i++){var o=n.turn+1===r?0:1;n.table[t][a][i]||(n.weights[t][a][i]+=o),n.table[t][i][c]||(n.weights[t][i][c]+=o),n.table[i][a][c]||(n.weights[i][a][c]+=o),a===c&&(n.table[t][i][i]||(n.weights[t][i][i]+=o),a!==t||n.table[i][i][i]||(n.weights[i][i][i]+=o)),a+c+1===n.dimension&&(n.table[t][i][n.dimension-i-1]||(n.weights[t][i][n.dimension-i-1]+=o),a!==t||n.table[i][i][n.dimension-i-1]||(n.weights[i][i][n.dimension-i-1]+=o)),t!==c||n.table[i][a][i]||(n.weights[i][a][i]+=o),t+c+1!==n.dimension||n.table[i][a][n.dimension-i-1]||(n.weights[i][a][n.dimension-i-1]+=o),t!==a||n.table[i][i][c]||(n.weights[i][i][c]+=o),t+a+1!==n.dimension||n.table[i][n.dimension-i-1][c]||(n.weights[i][n.dimension-i-1][c]+=o)}},this.heaviest=function(){for(var e=-1,t=-1,a=-1,c=0,r=Math.pow(n.dimension,3),s=0;s<n.dimension;s++)for(var i=0;i<n.dimension;i++)for(var o=0;o<n.dimension;o++){var l=Math.abs(n.weights[s][i][o]);l<=r&&l>=c&&(e=s,t=i,a=o,c=Math.abs(n.weights[e][t][a]))}return{floor:e,row:t,column:a}},this.reaction=function(){switch(n.level){case e.LEVELS.Noob:return n.strike()||n.random();case e.LEVELS.Ordinary:return n.strike()||n.heaviest()||n.random();case e.LEVELS.Pro:return null}},this.strike=function(){var t,a=n.level!==e.LEVELS.Noob?n.moves:n.moves.slice(0,2),c=Object(Et.a)(a);try{for(c.s();!(t=c.n()).done;){for(var r=t.value,s=r.floor,i=r.row,o=r.column,l=n.table[s][i][o],u=0,d=-1,j=0;j<n.dimension;j++)n.table[s][i][j]===l?u++:n.table[s][i][j]||(d=j);if(d>=0&&u===n.dimension-1)return{floor:s,row:i,column:d};for(j=0,u=0,d=-1;j<n.dimension;j++)n.table[s][j][o]===l?u++:n.table[s][j][o]||(d=j);if(d>=0&&u===n.dimension-1)return{floor:s,row:d,column:o};for(j=0,u=0,d=-1;j<n.dimension;j++)n.table[j][i][o]===l?u++:n.table[j][i][o]||(d=j);if(d>=0&&u===n.dimension-1)return{floor:d,row:i,column:o};for(j=0,u=0,d=-1;j<n.dimension;j++)i===o&&n.table[s][j][j]===l?u++:n.table[s][j][j]||(d=j);if(d>=0&&u===n.dimension-1)return{floor:s,row:d,column:d};for(j=0,u=0,d=-1;j<n.dimension;j++)i===s&&i===o&&n.table[j][j][j]===l?u++:n.table[j][j][j]||(d=j);if(d>=0&&u===n.dimension-1)return{floor:d,row:d,column:d};for(j=0,u=0,d=-1;j<n.dimension;j++)i+o+1===n.dimension&&n.table[s][j][n.dimension-j-1]===l?u++:n.table[s][j][n.dimension-j-1]||(d=j);if(d>=0&&u===n.dimension-1)return{floor:s,row:d,column:n.dimension-d-1};for(j=0,u=0,d=-1;j<n.dimension;j++)i+o+1===n.dimension&&i===s&&n.table[j][j][n.dimension-j-1]===l?u++:n.table[j][j][n.dimension-j-1]||(d=j);if(d>=0&&u===n.dimension-1)return{floor:d,row:d,column:n.dimension-d-1};for(j=0,u=0,d=-1;j<n.dimension;j++)s===o&&n.table[j][i][j]===l?u++:n.table[j][i][j]||(d=j);if(d>=0&&u===n.dimension-1)return{floor:d,row:i,column:d};for(j=0,u=0,d=-1;j<n.dimension;j++)s+o+1===n.dimension&&n.table[j][i][n.dimension-j-1]===l?u++:n.table[j][i][n.dimension-j-1]||(d=j);if(d>=0&&u===n.dimension-1)return{floor:d,row:i,column:n.dimension-d-1};for(j=0,u=0,d=-1;j<n.dimension;j++)s===i&&n.table[j][j][o]===l?u++:n.table[j][j][o]||(d=j);if(d>=0&&u===n.dimension-1)return{floor:d,row:d,column:o};for(j=0,u=0,d=-1;j<n.dimension;j++)s+i+1===n.dimension&&n.table[j][n.dimension-j-1][o]===l?u++:n.table[j][n.dimension-j-1][o]||(d=j);if(d>=0&&u===n.dimension-1)return{floor:d,row:n.dimension-d-1,column:o}}}catch(b){c.e(b)}finally{c.f()}return null},this.defend=function(){},this.attack=function(){},this.random=function(e){var t=0,a=0,c=0;do{var r=[1,2,3].map((function(e){return Math.floor(Math.random()*n.dimension)})),s=Object(h.a)(r,3);t=s[0],a=s[1],c=s[2]}while(n.table[t][a][c]);return{floor:t,row:a,column:c}},this.level=c,this.dimension=r,this.weights=G(r).table,this.table=Object(oe.a)(a),this.turn=t,this.moves=[]};Tt.LEVELS={Noob:0,Ordinary:1,Pro:2};var Rt=Tt,Dt=function(){var e=Object(r.useState)(4),t=Object(h.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(h.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)(1),b=Object(h.a)(u,2),x=b[0],O=b[1],p=Object(l.c)(),f=Object(r.useContext)(d),y=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p(q(a,i,x));case 4:f.goTo(j.Routes.Client.SingleGameplay),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)("hr",{}),Object(m.jsxs)(_e.a,{onSubmit:function(e){return y(e)},children:[Object(m.jsxs)(_e.a.Group,{className:"form-inline",children:[Object(m.jsx)(_e.a.Label,{className:"pb-2 w-25",children:"\u0646\u0648\u0639 \u0628\u0627\u0632\u06cc"}),Object(m.jsxs)(ke.a,{style:{border:"1px solid orange",borderRadius:"5px",padding:"2%"},children:[Object(m.jsxs)(ke.a.Prepend,{className:"mx-3",children:[Object(m.jsx)(ke.a.Radio,{value:"0",name:"scoreless",checked:!i,onChange:function(){return o(!1)}}),Object(m.jsx)(ke.a.Text,{children:"\u0627\u0645\u062a\u06cc\u0627\u0632\u06cc"})]}),Object(m.jsxs)(ke.a.Prepend,{className:"mx-3",children:[Object(m.jsx)(ke.a.Radio,{value:"1",name:"scoreless",checked:i,onChange:function(){return o(!0)}}),Object(m.jsx)(ke.a.Text,{children:"\u0633\u0631\u0639\u062a\u06cc"})]})]})]}),Object(m.jsxs)(_e.a.Group,{className:"form-inline",children:[Object(m.jsx)(_e.a.Label,{className:"pb-2 w-25",children:"\u0627\u0628\u0639\u0627\u062f \u062c\u062f\u0648\u0644"}),Object(m.jsxs)(ke.a,{style:{border:"1px solid orange",borderRadius:"5px",padding:"2%"},children:[Object(m.jsxs)(ke.a.Prepend,{className:"mx-3",children:[Object(m.jsx)(ke.a.Radio,{value:"3",name:"tableDimension",checked:3===a,onChange:function(){return n(3)}}),Object(m.jsx)(ke.a.Text,{children:"3 * 3 * 3"})]}),Object(m.jsxs)(ke.a.Prepend,{className:"mx-3",children:[Object(m.jsx)(ke.a.Radio,{value:"4",name:"tableDimension",checked:4===a,onChange:function(){return n(4)}}),Object(m.jsx)(ke.a.Text,{children:"4 * 4 * 4"})]}),Object(m.jsxs)(ke.a.Prepend,{className:"mx-3",children:[Object(m.jsx)(ke.a.Radio,{value:"5",name:"tableDimension",checked:5===a,onChange:function(){return n(5)}}),Object(m.jsx)(ke.a.Text,{children:"5 * 5 * 5"})]})]})]}),Object(m.jsxs)(_e.a.Group,{className:"form-inline",children:[Object(m.jsx)(_e.a.Label,{className:"pb-2 w-25",children:"\u062f\u0631\u062c\u0647 \u0633\u062e\u062a\u06cc"}),Object(m.jsxs)(ke.a,{style:{border:"1px solid orange",borderRadius:"5px",padding:"2%"},children:[Object(m.jsxs)(ke.a.Prepend,{className:"mx-3",children:[Object(m.jsx)(ke.a.Radio,{value:"0",name:"difficulty",checked:x===Rt.LEVELS.Noob,onChange:function(){return O(Rt.LEVELS.Noob)}}),Object(m.jsx)(ke.a.Text,{children:"\u0631\u0627\u062d\u062a"})]}),Object(m.jsxs)(ke.a.Prepend,{className:"mx-3",children:[Object(m.jsx)(ke.a.Radio,{value:"1",name:"difficulty",checked:x===Rt.LEVELS.Ordinary,onChange:function(){return O(Rt.LEVELS.Ordinary)}}),Object(m.jsx)(ke.a.Text,{children:"\u0645\u062a\u0648\u0633\u0637"})]}),Object(m.jsxs)(ke.a.Prepend,{className:"mx-3",children:[Object(m.jsx)(ke.a.Radio,{value:"1",name:"difficulty",checked:x===Rt.LEVELS.Pro,onChange:function(){return O(Rt.LEVELS.Pro)}}),Object(m.jsx)(ke.a.Text,{children:"\u0633\u062e\u062a"})]})]})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(Q.a,{type:"submit",className:"mt-4 animated-button",block:!0,variant:"success",children:[Object(m.jsx)("i",{className:"fa fa-street-view px-2","aria-hidden":"true"}),"\u0634\u0631\u0648\u0639 \u0628\u0627\u0632\u06cc"]})]})]})},It=function(){var e=Object(l.d)((function(e){return e.room})),t=Object(l.d)((function(e){return e.game})),a=Object(r.useState)(!1),n=Object(h.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(!1),u=Object(h.a)(o,2),d=u[0],j=u[1];return Object(m.jsx)(r.Fragment,{children:c&&e.name?Object(m.jsx)(yt,{surrender:d}):Object(m.jsx)(de.a,{border:"secondary",bg:"transparent",className:"game-deck-card",children:Object(m.jsx)(de.a.Body,{children:Object(m.jsxs)(Qe.a,{transition:!1,variant:"pills",className:"mb-3",children:[Boolean(e.name)&&Object(m.jsx)(je.a,{eventKey:"currentGame",title:"\u0628\u0627\u0632\u06cc \u06a9\u0646\u0648\u0646\u06cc",children:Object(m.jsxs)(i.a,{children:[Object(m.jsx)("hr",{}),Object(m.jsxs)(X.a,{className:"justify-content-center",children:[Object(m.jsx)(ee.a,{children:Object(m.jsx)(Ue.a,{className:"text-center",variant:"primary",children:"\u0646\u0648\u0639 \u0628\u0627\u0632\u06cc: ".concat(e.scoreless?"\u0633\u0631\u0639\u062a\u06cc":"\u0627\u0645\u062a\u06cc\u0627\u0632\u06cc")})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(Ue.a,{className:"text-center",variant:"primary",children:"\u0627\u0628\u0639\u0627\u062f \u0628\u0627\u0632\u06cc: ".concat(e.type," * ").concat(e.type," * ").concat(e.type)})})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{children:Object(m.jsxs)(Q.a,{type:"submit",className:"mt-4 animated-button",block:!0,variant:"primary",onClick:function(){return s(!0)},children:[Object(m.jsx)("i",{className:"fa fa-gamepad-o px-2","aria-hidden":"true"}),t?"\u0627\u062f\u0627\u0645\u0647":"\u0634\u0631\u0648\u0639"]})}),Object(m.jsx)(ee.a,{children:Object(m.jsxs)(Q.a,{type:"submit",className:"mt-4 animated-button",block:!0,variant:"danger",onClick:function(){j(!0),s(!0)},children:[Object(m.jsx)("i",{className:"fa fa-gamepad-o px-2","aria-hidden":"true"}),t?"\u062a\u0633\u0644\u06cc\u0645":"\u0644\u063a\u0648"]})})]})]})}),Object(m.jsx)(je.a,{eventKey:"randomGame",disabled:Boolean(e.name),title:"\u0628\u0627\u0632\u06cc \u062a\u0635\u0627\u062f\u0641\u06cc",children:Object(m.jsx)(Nt,{})}),Object(m.jsx)(je.a,{eventKey:"leagues",disabled:Boolean(e.name),title:"\u0644\u06cc\u06af \u0647\u0627",children:Object(m.jsx)(Ct,{})}),Object(m.jsx)(je.a,{eventKey:"singleplayer",disabled:Boolean(e.name),title:"\u062a\u06a9 \u0646\u0641\u0631\u0647",children:Object(m.jsx)(Dt,{})})]})})})})},Lt=(a(93),function(){return Object(m.jsxs)(de.a,{border:"warning",className:"simple-single-card",children:[Object(m.jsx)(de.a.Header,{className:"text-center",children:"\u0631\u0627\u0647\u0646\u0645\u0627\u06cc \u0628\u0627\u0632\u06cc"}),Object(m.jsxs)(de.a.Body,{className:"text-right",children:[Object(m.jsx)(de.a.Text,{children:"\u062f\u0627\u0646\u0634\u06af\u0627\u0647 \u0639\u0644\u0645 \u0648 \u0635\u0646\u0639\u062a \u0627\u06cc\u0631\u0627\u0646"}),Object(m.jsxs)(de.a.Text,{children:["E-mail: ",Object(m.jsx)("a",{href:"https://mail.google.com",children:"thcplusplus@gmail.com"})]}),Object(m.jsx)(de.a.Text,{children:"Phone Number: 0000000000000"}),Object(m.jsx)(de.a.Text,{children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u0645\u0627\u0633 \u0627\u0633\u062a\u0627\u062f"}),Object(m.jsx)(de.a.Text,{children:"instagram: ......"}),Object(m.jsx)(de.a.Text,{children:"blah blah blah"})]})]})}),Pt=function(){return Object(m.jsxs)(de.a,{border:"dark",className:"simple-single-card",children:[Object(m.jsx)(de.a.Header,{className:"text-center",children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u0645\u0627\u0633"}),Object(m.jsxs)(de.a.Body,{className:"text-right",children:[Object(m.jsx)(de.a.Text,{children:"\u062f\u0627\u0646\u0634\u06af\u0627\u0647 \u0639\u0644\u0645 \u0648 \u0635\u0646\u0639\u062a \u0627\u06cc\u0631\u0627\u0646"}),Object(m.jsxs)(de.a.Text,{children:["E-mail: ",Object(m.jsx)("a",{href:"https://mail.google.com",children:"thcplusplus@gmail.com"})]}),Object(m.jsx)(de.a.Text,{children:"Phone Number: 0000000000000"}),Object(m.jsx)(de.a.Text,{children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u0645\u0627\u0633 \u0627\u0633\u062a\u0627\u062f"}),Object(m.jsx)(de.a.Text,{children:"instagram: ......"}),Object(m.jsx)(de.a.Text,{children:"blah blah blah"})]})]})},At=function(e){Object(rt.a)(a,e);var t=Object(st.a)(a);function a(){var e;Object(nt.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={liveScores:[],finalScores:[],showLiveOnes:!1,loading:!1},e.btnShowLiveScores=function(){e.setState({showLiveOnes:!0})},e.btnShowFinalScores=function(){e.setState({showLiveOnes:!1})},e}return Object(ct.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(v.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,ue.getAllGames();case 3:if(a=t.sent,n=a.data,a.status!==b.a.Status.Successful){t.next=8;break}return t.abrupt("return",n.allGames);case 8:return t.abrupt("return",[]);case 9:case"end":return t.stop()}}),t)})))().then((function(t){t=Object(oe.a)(t.reverse()),e.setState({liveScores:t.filter((function(e){return e.isLive})),finalScores:t.filter((function(e){return!e.isLive})),loading:!1})})).catch((function(t){j.Status.isErrorExpected(t)||S("\u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u0644\u06cc\u0633\u062a \u0628\u0627\u0632\u06cc \u0647\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0622\u0645\u06cc\u0632 \u0646\u0628\u0648\u062f. \u0644\u0637\u0641\u0627 \u0644\u062d\u0638\u0627\u062a\u06cc \u0628\u0639\u062f \u0645\u062c\u062f\u062f\u0627 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f."),e.setState({finalScores:[],loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.liveScores,a=e.finalScores,n=e.showLiveOnes;return Object(m.jsxs)(i.a,{children:[Object(m.jsxs)(X.a,{className:"scores-mode-select-layout m-0 p-0",children:[Object(m.jsx)(ee.a,{className:"w-100 m-0 p-0 pl-1",children:Object(m.jsxs)(Q.a,{variant:n?"outline-success":"outline-primary",className:"scores-mode-select-button",onClick:this.btnShowLiveScores,children:["\u0646\u062a\u0627\u06cc\u062c \u0632\u0646\u062f\u0647",Object(m.jsx)("i",{className:"fa fa-play-circle px-3","aria-hidden":"true"})]})}),Object(m.jsx)(ee.a,{className:"w-100 m-0 p-0 ",children:Object(m.jsxs)(Q.a,{variant:n?"outline-primary":"outline-success",className:"scores-mode-select-button",onClick:this.btnShowFinalScores,children:["\u0646\u062a\u0627\u06cc\u062c \u0646\u0647\u0627\u06cc\u06cc",Object(m.jsx)("i",{className:"fa fa-check-circle-o px-3","aria-hidden":"true"})]})})]}),Object(m.jsx)("hr",{}),Object(m.jsx)(X.a,{children:Object(m.jsx)(ee.a,{children:Object(m.jsx)(Ne,{scores:n?t:a})})})]})}}]),a}(r.Component),Gt=At,Mt=function(e){Object(rt.a)(a,e);var t=Object(st.a)(a);function a(){var e;Object(nt.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={showModal:!1,studentID:"",password:"",loading:!1},e.onCloseClick=function(){return e.setState({showModal:!1})},e.onShowClick=function(){return e.setState({showModal:!0})},e.onSignInSubmitted=function(){var t=Object(v.a)(g.a.mark((function t(a){var n,c,r,s,i,o,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loading:!0}),n=e.state,c=n.studentID,r=n.password,s={studentID:Number(c),password:r},t.prev=4,t.next=7,R.signIn(s);case 7:i=t.sent,o=i.status,l=i.data,o===b.a.Status.Successful&&(j.browserStorage.save(l.token),e.context.goTo(j.Routes.Client.Root)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),e.setState({password:""}),b.a.Status.isErrorExpected(t.t0)||S("\u0648\u0631\u0648\u062f \u0628\u0627 \u0645\u0634\u06a9\u0644 \u0645\u0648\u0627\u062c\u0647 \u0634\u062f. \u0644\u0637\u0641\u0627 \u0627\u0631\u062a\u0628\u0627\u0637 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f.");case 17:e.setState({loading:!1});case 18:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}(),e.onForgotPasswordClick=function(){},e}return Object(ct.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.showModal,n=t.studentID,c=t.password,s=t.loading;return Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(se,{loading:s}),Object(m.jsxs)(Q.a,{variant:"outline-primary",onClick:this.onShowClick,children:[Object(m.jsx)("i",{className:"fa fa-user px-2","aria-hidden":"true"}),"\u0648\u0631\u0648\u062f \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"]}),Object(m.jsxs)(St.a,{backdrop:"static",show:a,onHide:this.onCloseClick,children:[Object(m.jsx)(St.a.Header,{closeButton:!0}),Object(m.jsx)(St.a.Body,{children:Object(m.jsxs)(_e.a,{className:"m-4 text-right",onSubmit:function(t){return e.onSignInSubmitted(t)},children:[Object(m.jsx)(_e.a.Control,{type:"text",className:"text-center txt-shaking",placeholder:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc",autoComplete:"username",value:n,onChange:function(t){return e.setState({studentID:t.target.value})}}),Object(m.jsx)("br",{}),Object(m.jsx)(_e.a.Control,{type:"password",className:"text-center txt-shaking",placeholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",autoComplete:"current-password",value:c,onChange:function(t){return e.setState({password:t.target.value})}}),Object(m.jsx)("hr",{}),Object(m.jsxs)(X.a,{className:"p-0",children:[Object(m.jsx)(ee.a,{className:"text-center",children:Object(m.jsxs)(Q.a,{type:"submit",block:!0,className:"text-center",variant:"outline-success",children:["\u0648\u0631\u0648\u062f",Object(m.jsx)("i",{className:"fa fa-sign-in px-2","aria-hidden":"true"})]})}),Object(m.jsx)(ee.a,{className:"text-center",children:Object(m.jsxs)(Q.a,{block:!0,className:"text-center",variant:"outline-warning",onClick:this.onForgotPasswordClick,children:[Object(m.jsx)("i",{className:"fa fa-recycle px-2","aria-hidden":"true"}),"\u0641\u0631\u0627\u0645\u0648\u0634\u06cc \u0631\u0645\u0632"]})})]})]})})]})]})}}]),a}(r.Component);Mt.contextType=d;var _t=Mt,Ut=(a(145),function(e){Object(rt.a)(a,e);var t=Object(st.a)(a);function a(){var e;Object(nt.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={studentID:"",password:"",confirmPassword:"",firstname:"",lastname:"",email:"",loading:!1},e.checkConfirmPassword=function(t){e.setState({confirmPassword:t.target.value}),e.state.password!==t.target.value?t.target.setCustomValidity("\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627\u06cc\u062f \u0628\u0627 \u062e\u0648\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0645\u0637\u0627\u0628\u0642\u062a \u06a9\u0627\u0645\u0644 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f"):t.target.setCustomValidity("")},e.onSignUpSubmit=function(){var t=Object(v.a)(g.a.mark((function t(a){var n,c,r,s,i,o,l,u,d,m,x;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,c=n.studentID,r=n.password,s=n.confirmPassword,i=n.firstname,o=n.lastname,l=n.email,!(i.trim().length<3||o.trim().length<3)){t.next=6;break}return S("\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 \u0634\u0627\u0645 \u0633\u0647 \u062d\u0631\u0641 \u0641\u0627\u0631\u0633\u06cc \u0628\u0627\u0634\u062f"),e.setState({firstname:i.trim(),lastname:o.trim()}),t.abrupt("return");case 6:if(r!==s){t.next=24;break}return t.prev=7,e.setState({loading:!0}),u={studentID:Number(c),password:r,email:l,fullname:(i+" "+o).replace(/\s+/g," ")},t.next=12,R.signUp(u);case 12:d=t.sent,m=d.status,x=d.data,m===b.a.Status.CreatedSuccessfully&&(w("\u062b\u0628\u062a \u0646\u0627\u0645 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f"),j.browserStorage.save(x.token),e.props.history.replace("/")),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(7),e.setState({loading:!1}),t.t0&&t.t0.response&&t.t0.response.status===b.a.Status.Conflict?C("\u0627\u06af\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062e\u0648\u062f \u0631\u0627 \u0641\u0631\u0627\u0645\u0648\u0634 \u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f\u060c \u0627\u0632 \u06af\u0632\u06cc\u0646\u0647 \u0628\u0627\u0632\u06cc\u0627\u0628\u06cc \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062f\u0631 \u0635\u0641\u062d\u0647 \u06cc \u0648\u0631\u0648\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0646\u0645\u0627\u06cc\u06cc\u062f"):b.a.Status.isErrorExpected(t.t0)||S("\u062b\u0628\u062a \u0646\u0627\u0645 \u0628\u0627 \u0645\u0634\u06a9\u0644 \u0631\u0648 \u0628\u0647 \u0631\u0648 \u0634\u062f. \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u062a\u0646\u06cc\u062f");case 22:t.next=25;break;case 24:S("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631\u0647\u0627 \u0645\u0637\u0627\u0628\u0642\u062a \u0646\u062f\u0627\u0631\u0646\u062f");case 25:e.setState({loading:!1});case 26:case"end":return t.stop()}}),t,null,[[7,18]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(ct.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.studentID,n=t.password,c=t.confirmPassword,r=t.firstname,s=t.lastname,i=t.email,o=t.loading;return Object(m.jsxs)(de.a,{border:"success",className:"sign-up-card animated-form",children:[Object(m.jsx)(se,{loading:o}),Object(m.jsx)(de.a.Header,{className:"bg-transparent text-center border-success",children:"\u0641\u0631\u0645 \u062b\u0628\u062a \u0646\u0627\u0645"}),Object(m.jsx)(de.a.Body,{children:Object(m.jsxs)(_e.a,{onSubmit:function(t){return e.onSignUpSubmit(t)},children:[Object(m.jsxs)(X.a,{className:"mb-3",children:[Object(m.jsx)(ee.a,{md:3,sm:12,xs:12,children:Object(m.jsx)(_e.a.Label,{children:"\u0646\u0627\u0645"})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(_e.a.Control,{type:"text",pattern:"[\u0622-\u06cc ]{3,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0646\u0627\u0645 \u0628\u0627\u06cc\u062f \u0628\u0627 \u062d\u0631\u0648\u0641 \u0641\u0627\u0631\u0633\u06cc \u0648 \u0628\u0627 \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0633\u0647 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f")},className:"sign-up-textbox animated-textbox text-center",placeholder:"First Name",value:r,required:"required",onChange:function(t){return e.setState({firstname:t.target.value})}})})]}),Object(m.jsxs)(X.a,{className:"mb-3",children:[Object(m.jsx)(ee.a,{md:3,sm:12,xs:12,children:Object(m.jsx)(_e.a.Label,{children:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(_e.a.Control,{type:"text",className:"sign-up-textbox animated-textbox text-center",pattern:"[\u0622-\u06cc ]{3,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0628\u0627\u06cc\u062f \u0628\u0627 \u062d\u0631\u0648\u0641 \u0641\u0627\u0631\u0633\u06cc \u0648 \u0628\u0627 \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0633\u0647 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f")},placeholder:"Last Name",value:s,required:"required",onChange:function(t){return e.setState({lastname:t.target.value})}})})]}),Object(m.jsxs)(X.a,{className:"mb-3",children:[Object(m.jsx)(ee.a,{md:3,sm:12,xs:12,children:Object(m.jsx)(_e.a.Label,{children:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc"})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(_e.a.Control,{type:"text",pattern:"[0-9]{8}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc \u0628\u0627\u06cc\u062f \u06cc\u06a9 \u0639\u062f\u062f 8 \u0631\u0642\u0645\u06cc \u0628\u0627\u0634\u062f")},className:"sign-up-textbox animated-textbox text-center",placeholder:"Student ID",value:a,autoComplete:"username",required:"required",onChange:function(t){return e.setState({studentID:t.target.value})}})})]}),Object(m.jsxs)(X.a,{className:"mb-3",children:[Object(m.jsx)(ee.a,{md:3,sm:12,xs:12,children:Object(m.jsx)(_e.a.Label,{children:"\u0627\u06cc\u0645\u06cc\u0644"})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(_e.a.Control,{type:"email",pattern:".{6,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0648\u0631\u0648\u062f\u06cc \u0628\u0627\u06cc\u062f \u0641\u0631\u0645\u062a \u0645\u0639\u062a\u0628\u0631 \u0627\u06cc\u0645\u06cc\u0644 \u0631\u0627 \u0631\u0639\u0627\u06cc\u062a \u06a9\u0631\u062f\u0647 \u0648 \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f")},className:"sign-up-textbox animated-textbox text-center",placeholder:"E-mail",value:i,required:"required",onChange:function(t){return e.setState({email:t.target.value})}})})]}),Object(m.jsxs)(X.a,{className:"mb-3",children:[Object(m.jsx)(ee.a,{md:3,sm:12,xs:12,children:Object(m.jsx)(_e.a.Label,{children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(_e.a.Control,{type:"password",pattern:".{6,15}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0628\u0627\u06cc\u062f \u062d\u062f\u0627\u0642\u0644 6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0648 \u062d\u062f\u0627\u06a9\u062b\u0631 15 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f")},className:"sign-up-textbox animated-textbox text-center",placeholder:"Password",value:n,autoComplete:"new-password",required:"required",onChange:function(t){return e.setState({password:t.target.value})}})})]}),Object(m.jsxs)(X.a,{className:"mb-3",children:[Object(m.jsx)(ee.a,{md:3,sm:12,xs:12,children:Object(m.jsx)(_e.a.Label,{children:"\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(_e.a.Control,{type:"password",className:"sign-up-textbox animated-textbox text-center",placeholder:"Confirm Password",value:c,required:"required",onChange:function(t){return e.checkConfirmPassword(t)}})})]}),Object(m.jsx)("hr",{}),Object(m.jsx)(X.a,{className:"justify-content-center my-3",children:Object(m.jsx)(it.a,{sitekey:"Your client site key"})}),Object(m.jsx)(X.a,{className:"mb-3",children:Object(m.jsxs)(Q.a,{type:"submit",className:"btn btn-success btn-block mt-4 animated-button",children:[Object(m.jsx)("i",{className:"fa fa-user-plus px-2","aria-hidden":"true"}),"\u062b\u0628\u062a \u0646\u0627\u0645"]})})]})}),Object(m.jsxs)(de.a.Footer,{className:"border-primary bg-transparent",children:["\u0627\u06af\u0631 \u0642\u0628\u0644\u0627 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0631\u062f\u06cc\u060c \u0628\u0647 \u0635\u0641\u062d\u0647 \u06cc ",Object(m.jsx)(_t,{})," \u0628\u0631\u0648 !"]})]})}}]),a}(r.Component)),Bt=Object(p.f)(Ut),Ft=function(e){var t=e.rowNumber,a=e.playerID,n=e.name,c=e.records,r=Object(l.d)((function(e){return e.me}));return Object(m.jsxs)("tr",{className:r&&a===r.userID?"bg-success":"",children:[Object(m.jsx)("th",{scope:"row",children:t}),Object(m.jsx)("td",{children:n}),Object(m.jsx)("td",{children:c.points}),Object(m.jsx)("td",{children:c.wins}),Object(m.jsx)("td",{children:c.loses}),Object(m.jsx)("td",{children:c.draws})]})},Vt=function(e){var t=e.players,a=e.rankByProgress;return Object(m.jsxs)(de.a,{border:"dark",style:{width:"100%",borderRadius:"5px"},children:[Object(m.jsx)(de.a.Header,{className:"text-center",children:"\u0631\u062f\u0647 \u0628\u0646\u062f\u06cc"}),Object(m.jsxs)("table",{className:"table table-striped table-bordered table-hover text-center",children:[Object(m.jsx)("thead",{className:"bg-info",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",children:"#"}),Object(m.jsx)("th",{scope:"col",children:"\u0646\u0627\u0645 \u0628\u0627\u0632\u06cc\u06a9\u0646"}),Object(m.jsx)("th",{scope:"col",children:"\u0627\u0645\u062a\u06cc\u0627\u0632"}),Object(m.jsx)("th",{scope:"col",children:"\u062a\u0639\u062f\u0627\u062f \u0628\u0631\u062f"}),Object(m.jsx)("th",{scope:"col",children:"\u062a\u0639\u062f\u0627\u062f \u0628\u0627\u062e\u062a"}),Object(m.jsx)("th",{scope:"col",children:"\u062a\u0639\u062f\u0627\u062f \u062a\u0633\u0627\u0648\u06cc"})]})}),Object(m.jsx)("tbody",{children:t.map((function(e){return Object(m.jsx)(Ft,{rowNumber:t.findIndex((function(t){return t.userID===e.userID}))+1,playerID:e.userID,name:e.fullname,records:a?e.progress:e.records},e.userID)}))})]})]})},qt=function(e){Object(rt.a)(a,e);var t=Object(st.a)(a);function a(){var e;Object(nt.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={players:[],loading:!1},e}return Object(ct.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(v.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,R.getAllPlayers();case 3:if(a=t.sent,n=a.data,a.status!==b.a.Status.Successful){t.next=8;break}return t.abrupt("return",n.players);case 8:return t.abrupt("return",[]);case 9:case"end":return t.stop()}}),t)})))().then((function(t){var a=Object(oe.a)(t);e.setState({players:a.sort((function(e,t){return t.records.points-e.records.points||t.records.wins-e.records.wins||e.records.loses-t.records.loses})),loading:!1})})).catch((function(t){j.Status.isErrorExpected(t)||S("\u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u062c\u062f\u0648\u0644 \u0631\u062f\u0647 \u0628\u0646\u062f\u06cc \u0645\u0648\u0641\u0642\u06cc\u062a \u0622\u0645\u06cc\u0632 \u0646\u0628\u0648\u062f. \u0644\u0637\u0641\u0627 \u0627\u0631\u062a\u0628\u0627\u0637 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a\u06cc \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f."),e.setState({players:[],loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.players,a=e.loading;return Object(m.jsxs)(X.a,{className:"mx-auto mt-3",children:[a?Object(m.jsx)(se,{loading:a}):null,Object(m.jsx)(X.a,{className:"w-100 mx-auto",children:Object(m.jsx)(Vt,{players:t})})]})}}]),a}(r.Component),Kt=qt,Ht=function(e){e.userID;var t=Object(r.useState)(""),a=Object(h.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(""),i=Object(h.a)(s,2),o=i[0],l=(i[1],Object(r.useState)("")),u=Object(h.a)(l,2),d=u[0],j=(u[1],Object(r.useState)("")),b=Object(h.a)(j,2),x=b[0],O=b[1],p=Object(r.useState)(""),f=Object(h.a)(p,2),g=f[0],v=f[1];Object(r.useEffect)((function(){v(!0),v(!1)}),[]);return Object(m.jsxs)(_e.a,{onSubmit:function(e){e.preventDefaults()},children:[Object(m.jsx)(se,{loading:g}),Object(m.jsxs)(_e.a.Group,{className:"form-inline",children:[Object(m.jsx)(_e.a.Label,{className:"w-25 text-center",children:"\u0634\u0645\u0627\u0631\u0647 \u062f\u0627\u0646\u0634\u062c\u0648\u06cc\u06cc"}),Object(m.jsx)(_e.a.Control,{type:"text",className:"account-info-textbox w-75",placeholder:"Student ID",value:o})]}),Object(m.jsxs)(_e.a.Group,{className:"form-inline",children:[Object(m.jsx)(_e.a.Label,{className:"w-25 text-center",children:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631"}),Object(m.jsx)(_e.a.Control,{type:"text",className:"account-info-textbox w-75",pattern:"[\u0622-\u06cc ]{6,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u0628\u0627\u06cc\u062f \u0628\u0627 \u062d\u0631\u0648\u0641 \u0641\u0627\u0631\u0633\u06cc \u0648 \u0628\u0627 \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0633\u0647 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f")},placeholder:"Full Name",value:n,required:"required",onChange:function(e){return c(e.target.value)}})]}),Object(m.jsxs)(_e.a.Group,{className:"form-inline",children:[Object(m.jsx)(_e.a.Label,{className:"w-25 text-center",children:"\u0627\u06cc\u0645\u06cc\u0644"}),Object(m.jsx)(_e.a.Control,{type:"email",disabled:!0,className:"account-info-textbox w-75",placeholder:"E-mail",value:d})]}),Object(m.jsx)(de.a.Footer,{className:"p-1 m-0",children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(ee.a,{lg:2,md:2,sm:4,xs:4,children:Object(m.jsx)(_e.a.Label,{className:"text-center w-100 mt-3",children:"\u0631\u0645\u0632\u0639\u0628\u0648\u0631 \u0641\u0639\u0644\u06cc"})}),Object(m.jsx)(ee.a,{lg:7,md:7,sm:8,xs:8,children:Object(m.jsx)(_e.a.Control,{type:"password",className:"text-left account-info-textbox animated-textbox",placeholder:"Password",value:x,required:!0,onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u062c\u0647\u062a \u0627\u0639\u0645\u0627\u0644 \u0647\u0631 \u06af\u0648\u0646\u0647 \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0631 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062a\u0627\u0646 \u0628\u0627\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f")},onChange:function(e){return O(e.target.value)}})}),Object(m.jsx)(ee.a,{lg:3,md:3,sm:12,xs:12,children:Object(m.jsxs)(Q.a,{type:"submit",block:!0,variant:"success",className:"mt-2 w-100",children:[Object(m.jsx)("i",{className:"fa fa-floppy-o px-2","aria-hidden":"true"}),"\u062b\u0628\u062a \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"]})})]})})]})},zt=function(){var e=Object(r.useState)(null),t=Object(h.a)(e,2),a=t[0],n=(t[1],Object(r.useState)("")),c=Object(h.a)(n,2),s=c[0],i=c[1];return Object(m.jsxs)(de.a,{border:"secondary",bg:"transparent",className:"big-single-card",children:[!a&&Object(m.jsx)(de.a.Header,{children:Object(m.jsx)(_e.a,{onSubmit:function(e){e.preventDefaults()},children:Object(m.jsxs)(X.a,{className:" w-100",children:[Object(m.jsx)(ee.a,{lg:10,md:10,sm:9,xs:9,children:Object(m.jsx)(_e.a.Control,{type:"text",placeholder:"\u0646\u0627\u0645 \u062f\u0627\u0646\u0634\u062c\u0648",value:s,onChange:function(e){return i(e.target.value)},className:"account-info-textbox mt-0 animated-textbox"})}),Object(m.jsx)(ee.a,{className:"text-left",lg:2,md:2,sm:3,xs:3,children:Object(m.jsx)(Q.a,{className:"animated-button",block:!0,variant:"warning",children:Object(m.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})}),a&&Object(m.jsx)(de.a.Body,{children:Object(m.jsxs)(Qe.a,{defaultActiveKey:"strecords",variant:"pills",className:"mb-3",children:[Object(m.jsx)(je.a,{eventKey:"strecords",title:"\u0631\u06a9\u0648\u0631\u062f\u0647\u0627",children:Object(m.jsx)("hr",{})}),Object(m.jsxs)(je.a,{eventKey:"stedit",title:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u062f\u0627\u0646\u0634\u062c\u0648",children:[Object(m.jsx)("hr",{}),Object(m.jsx)(Ht,{userID:a})]}),Object(m.jsx)(je.a,{eventKey:"stfriends",title:"\u0631\u0648\u0627\u0628\u0637",children:Object(m.jsx)("hr",{})}),Object(m.jsx)(je.a,{eventKey:"stdelete",title:"\u062d\u0630\u0641",children:Object(m.jsx)("hr",{})})]})})]})},Jt=function(){var e=Object(r.useState)(0),t=Object(h.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),s=Object(h.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(20),u=Object(h.a)(l,2),d=u[0],b=u[1],x=Object(r.useState)(50),O=Object(h.a)(x,2),p=O[0],f=O[1],y=Object(r.useState)(""),N=Object(h.a)(y,2),k=N[0],C=N[1],E=Object(r.useState)(""),T=Object(h.a)(E,2),R=T[0],D=T[1],I=Object(r.useState)(4),L=Object(h.a)(I,2),P=L[0],A=L[1],G=Object(r.useState)(!1),M=Object(h.a)(G,2),_=M[0],U=M[1],B=function(){var e=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,D(!0),e.next=5,z.createLeague(k,a,_,P,i,d,p);case 5:n=e.sent,n.status===j.Status.CreatedSuccessfully&&w("\u0644\u06cc\u06af ".concat(i," \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0633\u0627\u062e\u062a\u0647 \u0634\u062f.")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),j.Status.isErrorExpected(e.t0)||S("\u062e\u0637\u0627 \u062f\u0631 \u0628\u0631\u0642\u0631\u0627\u0631\u06cc \u0627\u0631\u062a\u0628\u0627\u0637 ... \u0644\u0637\u0641\u0627 \u0627\u0631\u062a\u0628\u0627\u0637 \u062e\u0648\u062f \u0631\u0627 \u0628\u0627 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f."),D(!1);case 14:D(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),F=0,V=1,q=2,K=3;return Object(m.jsxs)(_e.a,{onSubmit:function(e){return B(e)},children:[Object(m.jsx)(se,{loading:R}),Object(m.jsxs)(de.a,{border:"success",bg:"transparent",className:"mx-auto notice-manager-card",children:[Object(m.jsx)(de.a.Header,{bg:"transparent",className:"text-center mx-auto w-100 m-0 p-0 pb-1",children:Object(m.jsxs)(X.a,{className:"m-0 p-0",children:[Object(m.jsx)(ee.a,{lg:2,md:2,sm:4,xs:4,children:Object(m.jsx)(_e.a.Label,{className:"text-center w-100 my-2",children:"\u0631\u0645\u0632\u0639\u0628\u0648\u0631 \u0641\u0639\u0644\u06cc"})}),Object(m.jsx)(ee.a,{lg:7,md:7,sm:8,xs:8,children:Object(m.jsx)(_e.a.Control,{type:"password",className:"text-left account-info-textbox animated-textbox",placeholder:"Password",value:k,onChange:function(e){return C(e.target.value)},required:!0,onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u062c\u0647\u062a \u0627\u0639\u0645\u0627\u0644 \u0647\u0631 \u06af\u0648\u0646\u0647 \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0631 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062a\u0627\u0646 \u0628\u0627\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f")}})}),Object(m.jsx)(ee.a,{lg:3,md:3,sm:12,xs:12,children:Object(m.jsxs)(Q.a,{type:"submit",block:!0,variant:"primary",className:"mt-2 animated-button",children:[Object(m.jsx)("i",{className:"fa fa-floppy-o px-2","aria-hidden":"true"}),"\u0633\u0627\u062e\u062a \u0644\u06cc\u06af"]})})]})}),Object(m.jsxs)(de.a.Body,{style:{overflowY:"auto"},className:"text-right",children:[Object(m.jsx)(X.a,{className:"my-1",children:Object(m.jsx)(_e.a.Control,{type:"text",className:"account-info-textbox animated-textbox",pattern:"[\u0622-\u06cc ]{3,}",onInput:function(e){return e.target.setCustomValidity("")},onInvalid:function(e){return e.target.setCustomValidity("\u0646\u0627\u0645 \u0644\u06cc\u06af \u0628\u0627\u06cc\u062f \u0628\u0627 \u062d\u0631\u0648\u0641 \u0641\u0627\u0631\u0633\u06cc \u0648 \u0628\u0627 \u062d\u062f\u0627\u0642\u0644 \u0637\u0648\u0644 \u0633\u0647 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f")},placeholder:"\u0646\u0627\u0645 \u0644\u06cc\u06af",value:i,required:"required",onChange:function(e){return o(e.target.value)}})}),Object(m.jsx)("hr",{}),Object(m.jsx)(X.a,{className:"my-1 justify-content-center",children:Object(m.jsx)(_e.a.Label,{className:"text-center",children:"\u0646\u0648\u0639 \u0644\u06cc\u06af"})}),Object(m.jsx)("hr",{}),Object(m.jsxs)(X.a,{className:"m-0 p-0 justify-content-center",children:[Object(m.jsx)(ee.a,{className:"my-1 text-center",xs:3,children:Object(m.jsx)(Q.a,{variant:a===F?"success":"outline-secondary",onClick:function(){return n(F)},block:!0,children:"\u062d\u0630\u0641\u06cc"})}),Object(m.jsx)(ee.a,{className:"my-1 text-center",xs:3,children:Object(m.jsx)(Q.a,{variant:a===V?"success":"outline-secondary",onClick:function(){return n(V)},block:!0,children:"\u0627\u0645\u062a\u06cc\u0627\u0632\u06cc"})}),Object(m.jsx)(ee.a,{className:"my-1 text-center",xs:3,children:Object(m.jsx)(Q.a,{variant:a===q?"success":"outline-secondary",block:!0,onClick:function(){return n(q)},children:"\u0642\u0647\u0631\u0645\u0627\u0646\u0627\u0646"})}),Object(m.jsx)(ee.a,{className:"my-1 text-center",xs:3,children:Object(m.jsx)(Q.a,{variant:a===K?"success":"outline-secondary",block:!0,onClick:function(){return n(K)},children:"\u06a9\u0627\u0633\u062a\u0648\u0645"})})]}),Object(m.jsx)("hr",{}),Object(m.jsx)(X.a,{className:"my-1 justify-content-center",children:Object(m.jsx)(_e.a.Label,{className:"text-center",children:"\u0646\u0648\u0639 \u0628\u0627\u0632\u06cc \u0647\u0627"})}),Object(m.jsx)("hr",{}),Object(m.jsxs)(X.a,{className:"my-1 justify-content-center",children:[Object(m.jsx)(ee.a,{className:"my-1 text-center",xs:3,children:Object(m.jsx)(Q.a,{variant:3===P?"success":"outline-secondary",onClick:function(){return A(3)},block:!0,children:"3 * 3 * 3"})}),Object(m.jsx)(ee.a,{className:"my-1 text-center",xs:3,children:Object(m.jsx)(Q.a,{variant:4===P?"success":"outline-secondary",onClick:function(){return A(4)},block:!0,children:"4 * 4 * 4"})}),Object(m.jsx)(ee.a,{className:"my-1 text-center",xs:3,children:Object(m.jsx)(Q.a,{variant:5===P?"success":"outline-secondary",block:!0,onClick:function(){return A(5)},children:"5 * 5 * 5"})})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)(X.a,{className:"my-1  justify-content-center",children:[Object(m.jsx)(ee.a,{className:"my-1 text-center",xs:3,children:Object(m.jsx)(Q.a,{variant:_?"success":"outline-secondary",onClick:function(){return U(!0)},block:!0,children:"\u0633\u0631\u0639\u062a\u06cc"})}),Object(m.jsx)(ee.a,{className:"my-1 text-center",xs:3,children:Object(m.jsx)(Q.a,{variant:_?"outline-secondary":"success",onClick:function(){return U(!1)},block:!0,children:"\u0627\u0645\u062a\u06cc\u0627\u0632\u06cc"})})]}),Object(m.jsx)("hr",{}),Object(m.jsx)(X.a,{className:"my-1 justify-content-center",children:Object(m.jsx)(_e.a.Label,{className:"text-center",children:"\u062a\u0646\u0638\u06cc\u0645\u0627\u062a"})}),Object(m.jsxs)(X.a,{children:[Object(m.jsxs)(ee.a,{className:"my-1 text-center",children:[Object(m.jsx)("hr",{}),Object(m.jsx)(X.a,{className:"justify-content-around",children:Object(m.jsx)(_e.a.Label,{className:"text-center",children:"\u0638\u0631\u0641\u06cc\u062a"})}),Object(m.jsx)("hr",{}),Object(m.jsx)(_e.a.Control,{type:"number",className:"account-info-textbox animated-textbox text-center",placeholder:"\u0638\u0631\u0641\u06cc\u062a",value:d,required:"required",onChange:function(e){return b(e.target.value)}})]}),Object(m.jsxs)(ee.a,{className:"my-1 text-center",children:[Object(m.jsx)("hr",{}),Object(m.jsx)(X.a,{className:"justify-content-around",children:Object(m.jsx)(_e.a.Label,{className:"text-center",children:"\u062c\u0627\u06cc\u0632\u0647(\u0627\u0645\u062a\u06cc\u0627\u0632)"})}),Object(m.jsx)("hr",{}),Object(m.jsx)(_e.a.Control,{type:"number",className:"account-info-textbox animated-textbox text-center",placeholder:"\u062c\u0627\u06cc\u0632\u0647",value:p,required:"required",onChange:function(e){return f(e.target.value)}})]})]})]})]})]})},Yt=(a(94),function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.attendLeagueGame(j.browserStorage.LEAGUE());case 3:t=e.sent,a=t.status,n=t.data,a===j.Status.Successful&&(c=n.gameID,console.log("gameID = ",c)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),j.Status.isErrorExpected(e.t0)||S("\u062e\u0637\u0627 \u062f\u0631 \u0628\u0631\u0642\u0631\u0627\u0631\u06cc \u0627\u0631\u062a\u0628\u0627\u0637 ... \u0644\u0637\u0641\u0627 \u0627\u0631\u062a\u0628\u0627\u0637 \u062e\u0648\u062f \u0631\u0627 \u0628\u0627 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f.");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()),Wt=function(e){e.Type,e.date;var t=e.playerX,a=e.playerO,n=e.schedule,c=Object(l.d)((function(e){return e.me})),s=Object(r.useState)(!1),i=Object(h.a)(s,2),o=i[0],u=i[1],d=Object(r.useState)(null),j=Object(h.a)(d,2),b=j[0],x=j[1];return Object(r.useEffect)((function(){var e=new Date;!c||c.userID.toString()!==t.userID.toString()&&c.userID.toString()!==a.userID.toString()||e>=new Date(n)&&(x("success"),u(!0))}),[n,t,a,c]),Object(m.jsx)(de.a,{bg:b,onClick:o?Yt:null,border:"primary",className:"single-match-card",children:Object(m.jsx)(de.a.Body,{children:Object(m.jsxs)(X.a,{className:"text-center mx-auto",children:[Object(m.jsx)("span",{className:"col-lg-5 col-md-6 text-right",children:t.fullname}),Object(m.jsx)("span",{className:"col-lg-2 col-md-2 text-center",children:ve(n)}),Object(m.jsx)("span",{className:"col-lg-5 col-md-6 text-left",children:a.fullname})]})})})},Xt=function(e){var t=e.ongoing;return Object(m.jsx)(r.Fragment,{children:Boolean(t.length)?t.map((function(e){return Object(m.jsx)(Wt,{schedule:e.schedule,playerX:e.players[0],playerO:e.players[1]})})):Object(m.jsx)(de.a,{className:"bg-transparent mx-auto mt-3",border:"danger",children:Object(m.jsx)(de.a.Body,{className:"text-center",children:Object(m.jsx)(de.a.Text,{children:"\u0647\u06cc\u0686 \u0642\u0631\u0639\u0647 \u0627\u06cc \u0627\u0646\u062c\u0627\u0645 \u0646\u06af\u0631\u0641\u062a\u0647 \u0627\u0633\u062a"})})})})},Qt=function(){var e=Object(l.d)((function(e){return e.league}));return Object(m.jsx)(de.a,{border:"primary",bg:"transparent",className:"single-league-card",children:Boolean(e)&&Object(m.jsx)(de.a.Body,{children:Object(m.jsxs)(Qe.a,{defaultActiveKey:"draws",variant:"pills",className:"mb-3",children:[Object(m.jsxs)(je.a,{eventKey:"draws",title:"\u0628\u0627\u0632\u06cc \u0647\u0627",children:[Object(m.jsx)("hr",{}),Object(m.jsx)(Xt,{ongoing:e.ongoing})]}),Object(m.jsxs)(je.a,{eventKey:"table",title:"\u062c\u062f\u0648\u0644",children:[Object(m.jsx)("hr",{}),Object(m.jsx)(Vt,{players:e.contesters,rankByProgress:!0})]}),Object(m.jsx)(je.a,{eventKey:"details",title:"\u062c\u0632\u06cc\u06cc\u0627\u062a",children:Object(m.jsx)("hr",{})})]})})})},Zt=function(){var e=Object(l.c)(),t=Object(r.useState)(!1),a=Object(h.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){return Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(!0),t.next=4,e(J(j.browserStorage.LEAGUE()));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),c(!1);case 9:c(!1);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))(),function(){e(Y())}}),[e]),Object(m.jsxs)(X.a,{children:[Object(m.jsx)(te,{}),Object(m.jsx)(se,{loading:n}),Object(m.jsx)(ee.a,{xs:12,sm:12,md:4,lg:3}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(Qt,{})}),Object(m.jsx)(ee.a,{xs:0,sm:0,md:0,lg:3})]})},$t=function(e){Object(rt.a)(a,e);var t=Object(st.a)(a);function a(){var e;return Object(nt.a)(this,a),(e=t.call(this)).state={players:[{shape:Object(m.jsx)("i",{className:"fa fa-times","aria-hidden":"true"}),color:"blue",lineColor:"primary",score:0},{shape:Object(m.jsx)("i",{className:"fa fa-sun-o","aria-hidden":"true"}),color:"darkred",lineColor:"danger",score:0}],turn:1,dimension:4,table:null,empties:64,myTurn:void 0,timeRemaining:0,deadlineID:null,ai:null},e.updateGameScorebaord=function(){var t=e.state,a=t.myTurn,n=t.players,c=Number(!a);e.props.UpdateScoreboard({me:{index:a,shape:n[a].shape,score:n[a].score},opp:{index:c,shape:n[c].shape,score:n[c].score}})},e.rescheduleDeadline=function(){var t=e.state.turn;e.setState({timeRemaining:Math.floor(A.TurnTimeOut),turn:(t+1)%2}),e.state.deadlineID&&clearInterval(e.state.deadlineID);var a=setInterval((function(){var t=e.state,a=t.timeRemaining;t.turn!==t.myTurn?e.react():a>0?e.setState({timeRemaining:a-1}):e.rescheduleDeadline()}),1e3);e.setState({deadlineID:a})},e.react=function(){try{var t=e.state,a=t.table,n=t.dimension,c=t.turn,r=t.myTurn,s=t.ai,i=s.reaction(a);if(i&&c!==r)e.verifyAndApplyTheMove(i,e.cellButtons[M(n,i)])&&s.update(i,s.turn)}catch(o){console.log(o)}},e.onEachCellClick=function(t){var a=e.state,n=a.dimension,c=a.turn,r=a.myTurn,s=a.ai;if(console.log(e.state),c===r)try{var i=t.target,o=_(i.id,n);e.verifyAndApplyTheMove(o,i)&&s.update(o,r)}catch(l){console.log(l)}},e.verifyAndApplyTheMove=function(t,a){var n=e.state.turn,c=Object(oe.a)(e.state.table);return a.focus(),null===c[t.floor][t.row][t.column]&&(c[t.floor][t.row][t.column]=n+1,e.setState({table:c}),a.style.opacity=0,setTimeout((function(){a.className="game-table-cells player-".concat(n?"o":"x","-cell animate-new-move"),a.style.opacity=1}),100),--e.state.empties,B(t,e.state,e.connectScoreLines),e.state.empties<=0?U(e.state,e.onCloseGame):e.rescheduleDeadline(),!0)},e.connectScoreLines=function(t,a,n){for(var c=e.state,r=c.dimension,s=c.turn,i=Object(oe.a)(e.state.players),o=e.props.game,l=function(c){e.cellButtons[t+c*a].className="game-table-cells btn btn-".concat(i[n].lineColor),!o.scoreless&&setTimeout((function(){e.cellButtons[t+c*a].className="game-table-cells player-".concat(s?"o":"x","-cell")}),1e3+100*c)},u=0;u<r;u++)l(u);++i[n].score,e.setState({players:i}),e.updateGameScorebaord(),o.scoreless&&(e.state.empties=0)},e.onCloseGame=function(){clearTimeout(e.state.deadlineID),setTimeout((function(){e.props.CloseOngoingGame(),e.context.goTo("/")}),3e3)},e.cellButtons=[],e}return Object(ct.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.game;if(t){this.cellButtons=document.getElementsByClassName("game-table-cells");var a=t.dimension,n=t.table,c=t.myTurn,r=t.empties,s=new Rt(Number(!c),n,t.difficulty,a);this.setState({table:n,myTurn:c,dimension:a,empties:r,ai:s}),this.rescheduleDeadline(),setTimeout((function(){e.updateGameScorebaord()}),2e3)}else this.context.goTo(j.Routes.Client.GameDeck)}},{key:"componentWillUnmount",value:function(){var e=this.state.deadlineID;clearTimeout(e),this.props.CloseOngoingGame()}},{key:"render",value:function(){return Object(m.jsx)(gt,{dimension:this.state.dimension,players:this.state.players,table:this.state.table,turn:this.state.turn,timeRemaining:this.state.timeRemaining,onEachCellClick:this.onEachCellClick})}}]),a}(r.Component);$t.contextType=d;var ea=pt($t),ta=function(){return Object(m.jsxs)(p.c,{children:[Object(m.jsx)(p.a,{path:"".concat(j.Routes.Client.Profile,"/:path?"),exact:!0,children:Object(m.jsx)(ie,{children:Object(m.jsxs)(p.c,{children:[Object(m.jsx)(p.a,{path:j.Routes.Client.MyGamesAndFriends,children:Object(m.jsx)(Me,{})}),Object(m.jsx)(p.a,{path:j.Routes.Client.ChatRoom,children:Object(m.jsx)(Xe,{})}),Object(m.jsx)(p.a,{exact:!0,path:j.Routes.Client.Profile,children:Object(m.jsx)(at,{})})]})})}),Object(m.jsx)(p.a,{path:"".concat(j.Routes.Client.Admin,"/:path?"),exact:!0,children:Object(m.jsx)(ie,{children:Object(m.jsxs)(p.c,{children:[Object(m.jsx)(p.a,{path:j.Routes.Client.Notices,children:Object(m.jsx)(He,{})}),Object(m.jsx)(p.a,{path:j.Routes.Client.LeaguesManager,children:Object(m.jsx)(Jt,{})}),Object(m.jsx)(p.a,{path:j.Routes.Client.StudentManagement,children:Object(m.jsx)(zt,{})})]})})}),Object(m.jsx)(p.a,{path:"".concat(j.Routes.Client.League,"/:path?"),exact:!0,children:Object(m.jsx)(Zt,{children:Object(m.jsx)(p.c,{children:Object(m.jsx)(p.a,{path:j.Routes.Client.League,children:Object(m.jsx)(Jt,{})})})})}),Object(m.jsx)(p.a,{children:Object(m.jsx)(xt,{children:Object(m.jsxs)(p.c,{children:[Object(m.jsx)(p.a,{path:j.Routes.Client.SignUp,children:Object(m.jsx)(Bt,{})}),Object(m.jsx)(p.a,{path:j.Routes.Client.GameDeck,children:Object(m.jsx)(It,{})}),Object(m.jsx)(p.a,{path:j.Routes.Client.SingleGameplay,children:Object(m.jsx)(ea,{})}),Object(m.jsx)(p.a,{path:j.Routes.Client.Rankings,children:Object(m.jsx)(Kt,{})}),Object(m.jsxs)(p.a,{path:j.Routes.Client.GameGuide,children:[Object(m.jsx)(Lt,{}),"/"]}),Object(m.jsx)(p.a,{path:j.Routes.Client.ContactUs,children:Object(m.jsx)(Pt,{})}),Object(m.jsx)(p.a,{path:j.Routes.Client.Root,exact:!0,children:Object(m.jsx)(Gt,{})})]})})})]})},aa=function(e,t){return function(){var a=Object(v.a)(g.a.mark((function a(n,c){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n({type:"UPDATE_STATISTICS",payload:{players:e,games:t}});case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},na=Object(p.f)((function(e){var t=e.location,a=Object(l.d)((function(e){return e.message})),n=t.pathname,s=Object(l.d)((function(e){return e.tools})),i=Object(l.c)(),o=Object(r.useContext)(d),u=s.gameInvitation,b=o.goTo;return Object(r.useEffect)((function(){try{a&&a.recieved&&!a.recieved.pushed&&n!==j.Routes.Client.ChatRoom&&(j.Routes.Client.GameDeck,function(e,t){var a=e.name,n=e.text;Object(c.b)(Object(m.jsx)("p",{className:"text-right",children:"".concat(a," : ").concat(n)}),{type:"dark",position:"top-left",onClick:t,icon:Object(m.jsx)("i",{style:{float:"right"},className:"fa fa-envelope-o px-2 py-1","aria-hidden":"true"})})}(a.recieved,(function(){return b(j.Routes.Client.ChatRoom)})),i(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"MEESAGE_PUSHED"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),u&&(s=u,o=function(){var e,t;i((e=u.ID,t=u.type,function(){var a=Object(v.a)(g.a.mark((function a(n,c){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(r=Object(Te.a)({},c().tools)).acceptedGame={inviterID:e,type:t},r.gameInvitation=null,a.next=5,n({type:"UPDATE_TOOLS",payload:r});case 5:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()))},l=function(){i(function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(Te.a)({},a().tools)).gameInvitation=null,e.next=4,t({type:"UPDATE_TOOLS",payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},Object(c.b)(Object(m.jsx)("p",{className:"text-right text-primary",children:"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0628\u0627\u0632\u06cc ".concat(s.type,"*").concat(s.type,"*").concat(s.type," \u0627\u0632 ").concat(s.name,"\n \u0628\u0631\u0627\u06cc \u067e\u0630\u06cc\u0631\u0641\u062a\u0646 \u062f\u0639\u0648\u062a \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f")}),{position:"top-left",onClick:function(){return o(s.ID,s.type)},onClose:function(){return l()},icon:Object(m.jsx)("i",{style:{float:"right"},className:"fa fa-gamepad px-2 py-1","aria-hidden":"true"})}));var e=Object(Ke.a)(j.browserStorage.TOKEN());if(e){var t=e.exp,r=(t-e.iat)/60;Date.now()/1e3/60+r/4>=t/60&&C("\u0646\u0634\u0633\u062a \u0634\u0645\u0627 \u062f\u0631 \u0634\u0631\u0641 \u0627\u0646\u0642\u0636\u0627\u0633\u062a ... \u0628\u0631\u0627\u06cc \u067e\u06cc\u0634 \u06af\u06cc\u0631\u06cc \u0627\u0632 \u0628\u0631\u0648\u0632 \u0645\u0634\u06a9\u0644 \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u062e\u0648\u062f \u0634\u0648\u06cc\u062f")}}catch(d){console.log(d)}var s,o,l}),[a,n,u,b,i]),null})),ca=function(){var e=Object(r.useContext)(d),t=Object(r.useState)(null),a=Object(h.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(null),i=Object(h.a)(s,2),o=i[0],u=i[1],b=Object(r.useState)(!1),x=Object(h.a)(b,2),O=x[0],p=x[1],f=Object(l.d)((function(e){return e.me})),y=Object(l.d)((function(e){return e.tools})),N=Object(l.d)((function(e){return e.room})),E=Object(l.d)((function(e){return e.message})),T=Object(r.useState)(!0),R=Object(h.a)(T,2),D=R[0],I=R[1],P=Object(l.c)(),A=Object(r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return JSON.stringify({token:j.browserStorage.TOKEN(),request:e,msg:t})}),[]),G=Object(r.useState)(null),M=Object(h.a)(G,2),_=M[0],U=M[1],B=f&&f.userID,V=N&&N.name,q=Object(r.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return console.log("global websocket connect called -> new socket returned"),B?new Promise((function(a,n){try{var r=new WebSocket("".concat(j.Routes.Server.WebSocketRoot,"/").concat(j.Routes.Server.wsGlobalRoute));r.onopen=function(){r.send(A("online")),a(r)},r.onmessage=function(t){var n=t.data,c=JSON.parse(n),s=c.command,i=c.msg;switch(s){case"ONLINE":var o=i.players,l=i.games;P(aa(o,l)),i.room&&i.room.name&&P(F(i.room));break;case"NOT_AUTHORIZED":S("\u0646\u0634\u0633\u062a \u0634\u0645\u0627 \u0645\u0646\u0642\u0636\u06cc \u0634\u062f\u0647\u060c \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0634\u0648\u06cc\u062f"),e.signOut();break;case"FIND_RESULT":var d=i.found,j=i.stats;d?(P(F(d)),P(De()),i.opponent&&P(L(i.opponent))):setTimeout((function(){V||P(Re())}),5e3),j&&P(aa(j.players,j.games));break;case"GAME_CANCELLED":e.cancelGame();break;case"FRIENDSHIP_REQUEST":u(i),p(!0);break;case"FRIENDSHIP_RESPONSE":var b=i.answer,m=i.targetName;b?(w("".concat(m," \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062f\u0648\u0633\u062a\u06cc \u0634\u0645\u0627 \u0631\u0627 \u067e\u0630\u06cc\u0631\u0641\u062a")),setTimeout((function(){P(Ae())}),2e3)):C("".concat(m," \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062f\u0648\u0633\u062a\u06cc \u0634\u0645\u0627 \u0631\u0627 \u0631\u062f \u06a9\u0631\u062f")),P(Ie());break;case"TARGET_OFFLINE":S("\u06a9\u0627\u0631\u0628\u0631 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u062f\u0631 \u062d\u0627\u0644 \u062d\u0627\u0636\u0631 \u0622\u0641\u0644\u0627\u06cc\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f. \u0644\u0637\u0641\u0627 \u0628\u0639\u062f\u0627 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f."),P(Le());break;case"YOUR_BUSY":S("\u0634\u0645\u0627 \u0647\u0646\u0648\u0632 \u0628\u0627\u0632\u06cc \u0627\u062e\u06cc\u0631 \u062e\u0648\u062f \u0631\u0627 \u0628\u0647 \u0627\u062a\u0645\u0627\u0645 \u0646\u0631\u0633\u0627\u0646\u062f\u0647 \u0627\u06cc\u062f. \u067e\u0633 \u0627\u0632 \u067e\u0627\u06cc\u0627\u0646 \u0622\u0646 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f."),P(Le());break;case"TARGET_BUSY":k("\u062f\u0631 \u062d\u0627\u0644 \u062d\u0627\u0636\u0631 \u06a9\u0627\u0631\u0628\u0631 \u0645\u0634\u063a\u0648\u0644 \u0627\u0646\u062c\u0627\u0645 \u0628\u0627\u0632\u06cc \u062f\u06cc\u06af\u0631\u06cc \u0627\u0633\u062a \u0648 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0634\u0645\u0627 \u0627\u0645\u06a9\u0627\u0646 \u067e\u0630\u06cc\u0631 \u0646\u06cc\u0633\u062a"),P(Le());break;case"FRIENDLY_GAME":var x=i.askerID,h=i.askerName,O=i.gameType;P(Pe(x,h,O));break;case"INVITATION_ACCEPTED":P(Le()),e.redirectToGamePlay(i);break;case"CHAT":P(Je(i.name,i.friendID,i.text))}a(r)},r.onerror=function(e){r.close(),n(e)},r.onclose=function(){console.log("Reconnecting to global socket in ".concat(t/1e3," seconds"));var e=setTimeout((function(){Object(v.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!B){e.next=7;break}return e.next=4,q(2*t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=null;case 8:a=e.t0,c(a),e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.log(e.t1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),t);U(e),a(null)}}catch(s){console.log("global websocket error: ".concat(s))}})):null}),[P,A,B,V]);Object(r.useEffect)((function(){D&&B&&Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!B){e.next=7;break}return e.next=4,q();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=null;case 8:t=e.t0,c(t),e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.log(e.t1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),[D,B,q]),Object(r.useEffect)((function(){return function(){_&&clearTimeout(_)}}),[_]);var K=(f||{fullname:null}).fullname,H=y.friendRequestTarget,z=y.friendlyGameTarget,J=y.randomSearchRepeats,Y=y.acceptedGame;Object(r.useEffect)((function(){J&&(N.type?!N.name&&B&&n&&n.send(A("find",{gameType:N.type,scoreless:N.scoreless})):N.name||n&&n.send(A("close_game")))}),[B,N,J,n,A]),Object(r.useEffect)((function(){H&&n&&n.send(A("friendship",{targetID:H,askerName:K})),Y?(n&&n.send(A("respond_friendlygame",{answer:!0,inviterID:Y.inviterID,gameType:Y.type})),P(function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(Te.a)({},a().tools)).friendlyGameTarget=null,n.acceptedGame=null,n.gameInvitation=null,e.next=6,t({type:"UPDATE_TOOLS",payload:n});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())):z&&n&&n.send(A("friendly_game",{targetID:z.targetID,gameType:z.type,askerName:K}))}),[P,H,z,Y,n,A,K]);var W=function(e){n&&n.send(A("respond_friendship",{answer:e,targetName:f.fullname,askerID:o.askerID})),p(!1),u(null),e&&setTimeout((function(){P(Ae())}),5e3)};return Object(r.useEffect)((function(){E.sent&&n&&(n.send(A("chat",E.sent)),P(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"RESET_MESSAGES"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[E.sent,n,A,P]),setInterval((function(){window.navigator.onLine?D||I(!0):D&&I(!1)}),5e3),Object(m.jsxs)(r.Fragment,{children:[Object(m.jsx)(na,{}),Object(m.jsxs)(St.a,{show:O,onHide:function(){return W(!1)},children:[Object(m.jsx)(St.a.Header,{closeButton:!0}),Object(m.jsxs)(St.a.Body,{className:"text-right",children:[Object(m.jsxs)("p",{children:[o?Object(m.jsx)(Ce.a,{style:{fontSize:"18px",margin:"2%"},pill:!0,variant:"warning",children:o.askerName}):null,"\u0628\u0647 \u0634\u0645\u0627 \u067e\u06cc\u0634\u0646\u0647\u0627\u062f \u062f\u0648\u0633\u062a\u06cc \u062f\u0627\u062f\u0647 \u0627\u0633\u062a."]}),Object(m.jsx)("p",{children:"\u0627\u06af\u0631 \u062a\u0645\u0627\u06cc\u0644 \u0628\u0647 \u062f\u0648\u0633\u062a\u06cc \u0646\u062f\u0627\u0631\u06cc\u062f \u0645\u06cc\u062a\u0648\u0627\u0646\u062f \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0631\u0627 \u0631\u062f \u06a9\u0646\u06cc\u062f."})]}),Object(m.jsx)(St.a.Footer,{className:"w-100 text-right",children:Object(m.jsxs)(X.a,{className:"w-100",children:[Object(m.jsx)(ee.a,{children:Object(m.jsx)(Q.a,{variant:"success",block:!0,onClick:function(){return W(!0)},children:"\u067e\u0630\u06cc\u0631\u0641\u062a\u0646"})}),Object(m.jsx)(ee.a,{children:Object(m.jsx)(Q.a,{block:!0,variant:"danger",onClick:function(){return W(!1)},children:"\u0631\u062f"})})]})})]})]})},ra=function(){var e=Object(l.d)((function(e){return e.me}));return Object(m.jsxs)(u.a,{children:[Object(m.jsx)(c.a,{}),Object(m.jsxs)(W,{children:[e&&Object(m.jsx)(ca,{}),Object(m.jsx)(x,{}),Object(m.jsx)(ta,{})]})]})},sa=a(52),ia=a(101),oa=Object(sa.b)({me:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_MINE":return Object(Te.a)({},t.payload);case"RESET_MINE":return null;default:return e}},opponent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_OPPONENT":return Object(Te.a)({},t.payload);case"RESET_OPPONENT":return null;default:return e}},room:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,type:null,scoreless:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENTER_ROOM":return Object(Te.a)({},t.payload);case"EXIT_ROOM":return{name:null,type:null,scoreless:null};default:return e}},scoreboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{me:null,opp:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SCOREBOARD":return Object(Te.a)({},t.payload);case"CLEAN_SCOREBOARD":return{me:null,opp:null};default:return e}},tools:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{randomSearchRepeats:0,friendRequestTarget:null,friendlyGameTarget:null,gameInvitation:null,acceptedGame:null,recordReloadTrigger:!1},t=arguments.length>1?arguments[1]:void 0;return"UPDATE_TOOLS"===t.type?Object(Te.a)({},t.payload):e},statistics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{players:0,games:0},t=arguments.length>1?arguments[1]:void 0;return"UPDATE_STATISTICS"===t.type?Object(Te.a)({},t.payload):e},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sent:null,recieved:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECIEVE_MESSAGE":return{recieved:Object(Te.a)(Object(Te.a)({},t.payload),{},{pushed:!1}),sent:e.sent};case"SEND_MESSAGE":return{sent:Object(Te.a)(Object(Te.a)({},t.payload),{},{pushed:!0}),recieved:e.recieved};case"MEESAGE_PUSHED":return{sent:e.sent,recieved:Object(Te.a)(Object(Te.a)({},e.recieved),{},{pushed:!0})};case"RESET_MESSAGES":return{sent:null,recieved:null};default:return e}},interactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INTERACTIONS":return Object(oe.a)(t.payload);case"RESET_INTERACTIONS":return[];default:return e}},league:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENTER_LEAGUE":return Object(Te.a)({},t.payload);case"EXIT_LEAGUE":return null;default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_GAME":return Object(Te.a)({},t.payload);case"RESET_GAME":return null;default:return e}}}),la=Object(sa.c)(oa,Object(sa.a)(ia.a));la.subscribe((function(){return console.log(la.getState())})),Object(n.render)(Object(m.jsx)(l.a,{store:la,children:Object(m.jsx)(ra,{})}),document.getElementById("root"))},2:function(e,t,a){var n=a(111),c=a(112),r=a(113),s=a(114),i=a(115);e.exports={browserStorage:s,Routes:{Server:c,Client:n},Status:r,GameSetting:i,Devices:{SmartPhone:2,Tablet:1,Desktop:0}}},32:function(e,t,a){},76:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){}},[[146,1,2]]]);
//# sourceMappingURL=main.9a9c1593.chunk.js.map